<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.23">
<title>nu-posix Operator Guide</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child{border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active,#footnotes .footnote a:first-of-type:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>nu-posix Operator Guide</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_overview">1. Overview</a></li>
<li><a href="#_target_audience">2. Target Audience</a></li>
<li><a href="#_prerequisites">3. Prerequisites</a></li>
<li><a href="#_guide_structure">4. Guide Structure</a>
<ul class="sectlevel2">
<li><a href="#_foundation_chapters_1_3">4.1. Foundation (Chapters 1-3)</a></li>
<li><a href="#_installation_setup">4.2. Installation &amp; Setup</a></li>
<li><a href="#_usage_operations_chapters_14_15">4.3. Usage &amp; Operations (Chapters 14-15)</a></li>
<li><a href="#_best_practices">4.4. Best Practices</a></li>
</ul>
</li>
<li><a href="#_quick_start_for_operators">5. Quick Start for Operators</a>
<ul class="sectlevel2">
<li><a href="#_installation">5.1. Installation</a></li>
<li><a href="#_basic_usage">5.2. Basic Usage</a></li>
<li><a href="#_common_use_cases">5.3. Common Use Cases</a></li>
</ul>
</li>
<li><a href="#_chapter_contents">6. Chapter Contents</a></li>
<li><a href="#problem-description">Problem Description</a>
<ul class="sectlevel1">
<li><a href="#_overview_2">7. Overview</a></li>
<li><a href="#_the_shell_transition_challenge">8. The Shell Transition Challenge</a>
<ul class="sectlevel2">
<li><a href="#_legacy_script_investment">8.1. Legacy Script Investment</a></li>
<li><a href="#_posix_shell_limitations">8.2. POSIX Shell Limitations</a>
<ul class="sectlevel3">
<li><a href="#_data_handling">8.2.1. Data Handling</a></li>
<li><a href="#_pipeline_semantics">8.2.2. Pipeline Semantics</a></li>
<li><a href="#_development_experience">8.2.3. Development Experience</a></li>
</ul>
</li>
<li><a href="#_nushells_advantages">8.3. Nushell&#8217;s Advantages</a>
<ul class="sectlevel3">
<li><a href="#_structured_data">8.3.1. Structured Data</a></li>
<li><a href="#_modern_language_features">8.3.2. Modern Language Features</a></li>
<li><a href="#_ecosystem_integration">8.3.3. Ecosystem Integration</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_the_conversion_challenge">9. The Conversion Challenge</a>
<ul class="sectlevel2">
<li><a href="#_manual_migration_complexity">9.1. Manual Migration Complexity</a>
<ul class="sectlevel3">
<li><a href="#_syntax_differences">9.1.1. Syntax Differences</a></li>
<li><a href="#_semantic_differences">9.1.2. Semantic Differences</a></li>
<li><a href="#_scale_problems">9.1.3. Scale Problems</a></li>
</ul>
</li>
<li><a href="#_automated_conversion_requirements">9.2. Automated Conversion Requirements</a>
<ul class="sectlevel3">
<li><a href="#_parsing_complexity">9.2.1. Parsing Complexity</a></li>
<li><a href="#_conversion_accuracy">9.2.2. Conversion Accuracy</a></li>
<li><a href="#_practical_usability">9.2.3. Practical Usability</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_existing_solutions_and_limitations">10. Existing Solutions and Limitations</a>
<ul class="sectlevel2">
<li><a href="#_manual_rewriting">10.1. Manual Rewriting</a></li>
<li><a href="#_regex_based_substitution">10.2. Regex-based Substitution</a></li>
<li><a href="#_shell_wrappers">10.3. Shell Wrappers</a></li>
</ul>
</li>
<li><a href="#_solution_requirements">11. Solution Requirements</a>
<ul class="sectlevel2">
<li><a href="#_functional_requirements">11.1. Functional Requirements</a>
<ul class="sectlevel3">
<li><a href="#_parsing_capabilities">11.1.1. Parsing Capabilities</a></li>
<li><a href="#_conversion_quality">11.1.2. Conversion Quality</a></li>
<li><a href="#_usability_features">11.1.3. Usability Features</a></li>
</ul>
</li>
<li><a href="#_technical_requirements">11.2. Technical Requirements</a>
<ul class="sectlevel3">
<li><a href="#_architecture">11.2.1. Architecture</a></li>
<li><a href="#_quality_assurance">11.2.2. Quality Assurance</a></li>
<li><a href="#_maintenance">11.2.3. Maintenance</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_target_use_cases">12. Target Use Cases</a>
<ul class="sectlevel2">
<li><a href="#_devops_migration">12.1. DevOps Migration</a></li>
<li><a href="#_system_administration">12.2. System Administration</a></li>
<li><a href="#_development_workflows">12.3. Development Workflows</a></li>
</ul>
</li>
<li><a href="#_success_metrics">13. Success Metrics</a>
<ul class="sectlevel2">
<li><a href="#_conversion_accuracy_2">13.1. Conversion Accuracy</a></li>
<li><a href="#_usability">13.2. Usability</a></li>
<li><a href="#_ecosystem_impact">13.3. Ecosystem Impact</a></li>
</ul>
</li>
<li><a href="#_conclusion">14. Conclusion</a></li>
<li><a href="#_technical_foundation_ast_mapping">15. Technical Foundation: AST Mapping</a>
<ul class="sectlevel2">
<li><a href="#_understanding_abstract_syntax_trees_asts">15.1. Understanding Abstract Syntax Trees (ASTs)</a></li>
<li><a href="#_posix_ast_yash_syntax_overview">15.2. POSIX AST (yash-syntax) Overview</a>
<ul class="sectlevel3">
<li><a href="#_command">15.2.1. Command</a></li>
<li><a href="#_pipeline">15.2.2. Pipeline</a></li>
<li><a href="#_redirection">15.2.3. Redirection</a></li>
<li><a href="#_listsequence">15.2.4. List/Sequence</a></li>
<li><a href="#_conditional_statements">15.2.5. Conditional Statements</a></li>
<li><a href="#_looping_constructs">15.2.6. Looping Constructs</a></li>
<li><a href="#_function_definitions">15.2.7. Function Definitions</a></li>
<li><a href="#_variable_assignments">15.2.8. Variable Assignments</a></li>
<li><a href="#_subshells">15.2.9. Subshells</a></li>
<li><a href="#_command_substitution">15.2.10. Command Substitution</a></li>
<li><a href="#_arithmetic_expansion">15.2.11. Arithmetic Expansion</a></li>
<li><a href="#_parameter_expansion">15.2.12. Parameter Expansion</a></li>
<li><a href="#_logical_operators">15.2.13. Logical Operators</a></li>
</ul>
</li>
<li><a href="#_nu_ast_nushell_overview">15.3. Nu AST (nushell) Overview</a>
<ul class="sectlevel3">
<li><a href="#_command_2">15.3.1. Command</a></li>
<li><a href="#_pipeline_2">15.3.2. Pipeline</a></li>
<li><a href="#_block">15.3.3. Block</a></li>
<li><a href="#_expression">15.3.4. Expression</a></li>
<li><a href="#_literal">15.3.5. Literal</a></li>
<li><a href="#_variable_definitionassignment">15.3.6. Variable Definition/Assignment</a></li>
<li><a href="#_control_flow">15.3.7. Control Flow</a></li>
<li><a href="#_custom_command_definition">15.3.8. Custom Command Definition</a></li>
<li><a href="#_tablerecord_literals">15.3.9. Table/Record Literals</a></li>
<li><a href="#_closures">15.3.10. Closures</a></li>
<li><a href="#_redirection_implicitexplicit">15.3.11. Redirection (Implicit/Explicit)</a></li>
</ul>
</li>
<li><a href="#_mapping_challenges">15.4. Mapping Challenges</a>
<ul class="sectlevel3">
<li><a href="#_data_paradigm">15.4.1. Data Paradigm</a></li>
<li><a href="#_implicit_vs_explicit_structure">15.4.2. Implicit vs. Explicit Structure</a></li>
<li><a href="#_command_vs_expression">15.4.3. Command vs. Expression</a></li>
<li><a href="#_feature_discrepancies">15.4.4. Feature Discrepancies</a></li>
</ul>
</li>
<li><a href="#_proposed_mapping_strategy">15.5. Proposed Mapping Strategy</a>
<ul class="sectlevel3">
<li><a href="#_direct_equivalents">15.5.1. Direct Equivalents</a></li>
<li><a href="#_structural_transformations">15.5.2. Structural Transformations</a></li>
<li><a href="#_semantic_translations">15.5.3. Semantic Translations</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#project-status">Project Status</a>
<ul class="sectlevel1">
<li><a href="#_overview_3">16. Overview</a></li>
<li><a href="#_project_structure">17. Project Structure</a></li>
<li><a href="#_implementation_status">18. Implementation Status</a>
<ul class="sectlevel2">
<li><a href="#_completed_features">18.1. ✅ Completed Features</a>
<ul class="sectlevel3">
<li><a href="#_plugin_architecture">18.1.1. Plugin Architecture</a></li>
<li><a href="#_posix_parser">18.1.2. POSIX Parser</a></li>
<li><a href="#_command_conversion_architecture">18.1.3. Command Conversion Architecture</a></li>
<li><a href="#_posix_shell_builtin_converters">18.1.4. POSIX Shell Builtin Converters</a></li>
<li><a href="#_sus_external_utility_converters">18.1.5. SUS External Utility Converters</a></li>
<li><a href="#_pipeline_conversion">18.1.6. Pipeline Conversion</a></li>
<li><a href="#_control_structures">18.1.7. Control Structures</a></li>
<li><a href="#_testing">18.1.8. Testing</a></li>
</ul>
</li>
<li><a href="#_️_current_limitations">18.2. ⚠️ Current Limitations</a>
<ul class="sectlevel3">
<li><a href="#_posix_parser_2">18.2.1. POSIX Parser</a></li>
<li><a href="#_conversion_scope">18.2.2. Conversion Scope</a></li>
<li><a href="#_test_coverage">18.2.3. Test Coverage</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_technical_details">19. Technical Details</a>
<ul class="sectlevel2">
<li><a href="#_dependencies">19.1. Dependencies</a></li>
<li><a href="#_build_status">19.2. Build Status</a></li>
</ul>
</li>
<li><a href="#_commands_implemented">20. Commands Implemented</a>
<ul class="sectlevel2">
<li><a href="#_from_posix">20.1. <code>from posix</code></a></li>
<li><a href="#_to_posix">20.2. <code>to posix</code></a></li>
<li><a href="#_parse_posix">20.3. <code>parse posix</code></a></li>
</ul>
</li>
<li><a href="#_testing_results">21. Testing Results</a></li>
<li><a href="#_known_issues">22. Known Issues</a></li>
<li><a href="#_legacy_migration_tasks">23. Legacy Migration Tasks</a>
<ul class="sectlevel2">
<li><a href="#_completed_migrations">23.1. ✅ Completed Migrations</a></li>
<li><a href="#_recently_completed_migrations">23.2. ✅ Recently Completed Migrations</a></li>
<li><a href="#_️_remaining_commands_to_migrate">23.3. ⚠️ Remaining Commands to Migrate</a></li>
<li><a href="#_migration_process">23.4. Migration Process</a></li>
</ul>
</li>
<li><a href="#_next_steps">24. Next Steps</a>
<ul class="sectlevel2">
<li><a href="#_immediate_priority_1">24.1. Immediate (Priority 1)</a></li>
<li><a href="#_short_term_priority_2">24.2. Short-term (Priority 2)</a></li>
<li><a href="#_long_term_priority_3">24.3. Long-term (Priority 3)</a></li>
</ul>
</li>
<li><a href="#_development_environment">25. Development Environment</a></li>
<li><a href="#_documentation">26. Documentation</a></li>
<li><a href="#_conclusion_2">27. Conclusion</a></li>
</ul>
</li>
<li><a href="#architecture-overview">Architecture Overview</a>
<ul class="sectlevel1">
<li><a href="#_introduction">28. Introduction</a></li>
<li><a href="#_design_principles">29. Design Principles</a>
<ul class="sectlevel2">
<li><a href="#_modularity">29.1. Modularity</a></li>
<li><a href="#_extensibility">29.2. Extensibility</a></li>
<li><a href="#_reliability">29.3. Reliability</a></li>
</ul>
</li>
<li><a href="#_system_architecture">30. System Architecture</a>
<ul class="sectlevel2">
<li><a href="#_high_level_overview">30.1. High-Level Overview</a></li>
<li><a href="#_component_interaction">30.2. Component Interaction</a></li>
</ul>
</li>
<li><a href="#_parser_layer">31. Parser Layer</a>
<ul class="sectlevel2">
<li><a href="#_dual_parser_architecture">31.1. Dual Parser Architecture</a>
<ul class="sectlevel3">
<li><a href="#_primary_parser_yash_syntax">31.1.1. Primary Parser: yash-syntax</a></li>
<li><a href="#_secondary_parser_heuristic">31.1.2. Secondary Parser: Heuristic</a></li>
</ul>
</li>
<li><a href="#_parser_selection_logic">31.2. Parser Selection Logic</a></li>
<li><a href="#_ast_generation">31.3. AST Generation</a></li>
</ul>
</li>
<li><a href="#_converter_layer">32. Converter Layer</a>
<ul class="sectlevel2">
<li><a href="#_conversion_architecture">32.1. Conversion Architecture</a>
<ul class="sectlevel3">
<li><a href="#_posixtonuconverter">32.1.1. PosixToNuConverter</a></li>
<li><a href="#_command_routing">32.1.2. Command Routing</a></li>
</ul>
</li>
<li><a href="#_conversion_strategies">32.2. Conversion Strategies</a>
<ul class="sectlevel3">
<li><a href="#_direct_translation">32.2.1. Direct Translation</a></li>
<li><a href="#_functional_transformation">32.2.2. Functional Transformation</a></li>
<li><a href="#_external_command_delegation">32.2.3. External Command Delegation</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_registry_system">33. Registry System</a>
<ul class="sectlevel2">
<li><a href="#_command_registration">33.1. Command Registration</a>
<ul class="sectlevel3">
<li><a href="#_builtin_registry">33.1.1. Builtin Registry</a></li>
<li><a href="#_sus_registry">33.1.2. SUS Registry</a></li>
</ul>
</li>
<li><a href="#_converter_traits">33.2. Converter Traits</a>
<ul class="sectlevel3">
<li><a href="#_builtinconverter">33.2.1. BuiltinConverter</a></li>
<li><a href="#_commandconverter">33.2.2. CommandConverter</a></li>
</ul>
</li>
<li><a href="#_registry_lookup_process">33.3. Registry Lookup Process</a></li>
</ul>
</li>
<li><a href="#_data_flow">34. Data Flow</a>
<ul class="sectlevel2">
<li><a href="#_processing_pipeline">34.1. Processing Pipeline</a></li>
<li><a href="#_error_handling_flow">34.2. Error Handling Flow</a></li>
</ul>
</li>
<li><a href="#_plugin_integration">35. Plugin Integration</a>
<ul class="sectlevel2">
<li><a href="#_nushell_plugin_framework">35.1. Nushell Plugin Framework</a>
<ul class="sectlevel3">
<li><a href="#_plugin_structure">35.1.1. Plugin Structure</a></li>
<li><a href="#_command_implementation">35.1.2. Command Implementation</a></li>
</ul>
</li>
<li><a href="#_command_interfaces">35.2. Command Interfaces</a>
<ul class="sectlevel3">
<li><a href="#_from_posix_2">35.2.1. from posix</a></li>
<li><a href="#_to_posix_2">35.2.2. to posix</a></li>
<li><a href="#_parse_posix_2">35.2.3. parse posix</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_error_handling">36. Error Handling</a>
<ul class="sectlevel2">
<li><a href="#_error_types">36.1. Error Types</a></li>
<li><a href="#_error_recovery">36.2. Error Recovery</a></li>
</ul>
</li>
<li><a href="#_performance_considerations">37. Performance Considerations</a>
<ul class="sectlevel2">
<li><a href="#_optimization_strategies">37.1. Optimization Strategies</a>
<ul class="sectlevel3">
<li><a href="#_caching">37.1.1. Caching</a></li>
<li><a href="#_lazy_loading">37.1.2. Lazy Loading</a></li>
</ul>
</li>
<li><a href="#_scalability">37.2. Scalability</a></li>
</ul>
</li>
<li><a href="#_testing_architecture">38. Testing Architecture</a>
<ul class="sectlevel2">
<li><a href="#_test_organization">38.1. Test Organization</a></li>
<li><a href="#_test_categories">38.2. Test Categories</a>
<ul class="sectlevel3">
<li><a href="#_parser_tests">38.2.1. Parser Tests</a></li>
<li><a href="#_converter_tests">38.2.2. Converter Tests</a></li>
<li><a href="#_registry_tests">38.2.3. Registry Tests</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_future_architecture_considerations">39. Future Architecture Considerations</a>
<ul class="sectlevel2">
<li><a href="#_planned_enhancements">39.1. Planned Enhancements</a>
<ul class="sectlevel3">
<li><a href="#_performance_improvements">39.1.1. Performance Improvements</a></li>
<li><a href="#_feature_extensions">39.1.2. Feature Extensions</a></li>
<li><a href="#_integration_improvements">39.1.3. Integration Improvements</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_conclusion_3">40. Conclusion</a></li>
</ul>
</li>
<li><a href="#chapter-14">Chapter 14: Command Reference</a>
<ul class="sectlevel1">
<li><a href="#_plugin_commands">41. Plugin Commands</a>
<ul class="sectlevel2">
<li><a href="#_from_posix_3">41.1. from posix</a>
<ul class="sectlevel3">
<li><a href="#_syntax">41.1.1. Syntax</a></li>
<li><a href="#_examples">41.1.2. Examples</a></li>
</ul>
</li>
<li><a href="#_to_posix_3">41.2. to posix</a>
<ul class="sectlevel3">
<li><a href="#_syntax_2">41.2.1. Syntax</a></li>
<li><a href="#_examples_2">41.2.2. Examples</a></li>
</ul>
</li>
<li><a href="#_parse_posix_3">41.3. parse posix</a>
<ul class="sectlevel3">
<li><a href="#_syntax_3">41.3.1. Syntax</a></li>
<li><a href="#_examples_3">41.3.2. Examples</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_builtin_commands">42. Builtin Commands</a>
<ul class="sectlevel2">
<li><a href="#_echo">42.1. echo</a>
<ul class="sectlevel3">
<li><a href="#_posix_syntax">42.1.1. POSIX Syntax</a></li>
<li><a href="#_supported_options">42.1.2. Supported Options</a></li>
<li><a href="#_nushell_conversion">42.1.3. Nushell Conversion</a></li>
<li><a href="#_examples_4">42.1.4. Examples</a></li>
</ul>
</li>
<li><a href="#_cd">42.2. cd</a>
<ul class="sectlevel3">
<li><a href="#_posix_syntax_2">42.2.1. POSIX Syntax</a></li>
<li><a href="#_nushell_conversion_2">42.2.2. Nushell Conversion</a></li>
<li><a href="#_examples_5">42.2.3. Examples</a></li>
</ul>
</li>
<li><a href="#_test">42.3. test / [</a>
<ul class="sectlevel3">
<li><a href="#_posix_syntax_3">42.3.1. POSIX Syntax</a></li>
<li><a href="#_supported_tests">42.3.2. Supported Tests</a></li>
<li><a href="#_nushell_conversion_3">42.3.3. Nushell Conversion</a></li>
<li><a href="#_examples_6">42.3.4. Examples</a></li>
</ul>
</li>
<li><a href="#_pwd">42.4. pwd</a>
<ul class="sectlevel3">
<li><a href="#_posix_syntax_4">42.4.1. POSIX Syntax</a></li>
<li><a href="#_nushell_conversion_4">42.4.2. Nushell Conversion</a></li>
<li><a href="#_examples_7">42.4.3. Examples</a></li>
</ul>
</li>
<li><a href="#_exit">42.5. exit</a>
<ul class="sectlevel3">
<li><a href="#_posix_syntax_5">42.5.1. POSIX Syntax</a></li>
<li><a href="#_nushell_conversion_5">42.5.2. Nushell Conversion</a></li>
<li><a href="#_examples_8">42.5.3. Examples</a></li>
</ul>
</li>
<li><a href="#_export">42.6. export</a>
<ul class="sectlevel3">
<li><a href="#_posix_syntax_6">42.6.1. POSIX Syntax</a></li>
<li><a href="#_nushell_conversion_6">42.6.2. Nushell Conversion</a></li>
<li><a href="#_examples_9">42.6.3. Examples</a></li>
</ul>
</li>
<li><a href="#_unset">42.7. unset</a>
<ul class="sectlevel3">
<li><a href="#_posix_syntax_7">42.7.1. POSIX Syntax</a></li>
<li><a href="#_nushell_conversion_7">42.7.2. Nushell Conversion</a></li>
<li><a href="#_examples_10">42.7.3. Examples</a></li>
</ul>
</li>
<li><a href="#_alias">42.8. alias</a>
<ul class="sectlevel3">
<li><a href="#_posix_syntax_8">42.8.1. POSIX Syntax</a></li>
<li><a href="#_nushell_conversion_8">42.8.2. Nushell Conversion</a></li>
<li><a href="#_examples_11">42.8.3. Examples</a></li>
</ul>
</li>
<li><a href="#_source">42.9. source / .</a>
<ul class="sectlevel3">
<li><a href="#_posix_syntax_9">42.9.1. POSIX Syntax</a></li>
<li><a href="#_nushell_conversion_9">42.9.2. Nushell Conversion</a></li>
<li><a href="#_examples_12">42.9.3. Examples</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_file_operations">43. File Operations</a>
<ul class="sectlevel2">
<li><a href="#_ls">43.1. ls</a>
<ul class="sectlevel3">
<li><a href="#_posix_syntax_10">43.1.1. POSIX Syntax</a></li>
<li><a href="#_supported_options_2">43.1.2. Supported Options</a></li>
<li><a href="#_nushell_conversion_10">43.1.3. Nushell Conversion</a></li>
<li><a href="#_examples_13">43.1.4. Examples</a></li>
</ul>
</li>
<li><a href="#_cp">43.2. cp</a>
<ul class="sectlevel3">
<li><a href="#_posix_syntax_11">43.2.1. POSIX Syntax</a></li>
<li><a href="#_supported_options_3">43.2.2. Supported Options</a></li>
<li><a href="#_nushell_conversion_11">43.2.3. Nushell Conversion</a></li>
<li><a href="#_examples_14">43.2.4. Examples</a></li>
</ul>
</li>
<li><a href="#_mv">43.3. mv</a>
<ul class="sectlevel3">
<li><a href="#_posix_syntax_12">43.3.1. POSIX Syntax</a></li>
<li><a href="#_supported_options_4">43.3.2. Supported Options</a></li>
<li><a href="#_nushell_conversion_12">43.3.3. Nushell Conversion</a></li>
<li><a href="#_examples_15">43.3.4. Examples</a></li>
</ul>
</li>
<li><a href="#_rm">43.4. rm</a>
<ul class="sectlevel3">
<li><a href="#_posix_syntax_13">43.4.1. POSIX Syntax</a></li>
<li><a href="#_supported_options_5">43.4.2. Supported Options</a></li>
<li><a href="#_nushell_conversion_13">43.4.3. Nushell Conversion</a></li>
<li><a href="#_examples_16">43.4.4. Examples</a></li>
</ul>
</li>
<li><a href="#_mkdir">43.5. mkdir</a>
<ul class="sectlevel3">
<li><a href="#_posix_syntax_14">43.5.1. POSIX Syntax</a></li>
<li><a href="#_supported_options_6">43.5.2. Supported Options</a></li>
<li><a href="#_nushell_conversion_14">43.5.3. Nushell Conversion</a></li>
<li><a href="#_examples_17">43.5.4. Examples</a></li>
</ul>
</li>
<li><a href="#_rmdir">43.6. rmdir</a>
<ul class="sectlevel3">
<li><a href="#_posix_syntax_15">43.6.1. POSIX Syntax</a></li>
<li><a href="#_supported_options_7">43.6.2. Supported Options</a></li>
<li><a href="#_nushell_conversion_15">43.6.3. Nushell Conversion</a></li>
<li><a href="#_examples_18">43.6.4. Examples</a></li>
</ul>
</li>
<li><a href="#_chmod">43.7. chmod</a>
<ul class="sectlevel3">
<li><a href="#_posix_syntax_16">43.7.1. POSIX Syntax</a></li>
<li><a href="#_supported_options_8">43.7.2. Supported Options</a></li>
<li><a href="#_nushell_conversion_16">43.7.3. Nushell Conversion</a></li>
<li><a href="#_examples_19">43.7.4. Examples</a></li>
</ul>
</li>
<li><a href="#_chown">43.8. chown</a>
<ul class="sectlevel3">
<li><a href="#_posix_syntax_17">43.8.1. POSIX Syntax</a></li>
<li><a href="#_supported_options_9">43.8.2. Supported Options</a></li>
<li><a href="#_nushell_conversion_17">43.8.3. Nushell Conversion</a></li>
<li><a href="#_examples_20">43.8.4. Examples</a></li>
</ul>
</li>
<li><a href="#_ln">43.9. ln</a>
<ul class="sectlevel3">
<li><a href="#_posix_syntax_18">43.9.1. POSIX Syntax</a></li>
<li><a href="#_supported_options_10">43.9.2. Supported Options</a></li>
<li><a href="#_nushell_conversion_18">43.9.3. Nushell Conversion</a></li>
<li><a href="#_examples_21">43.9.4. Examples</a></li>
</ul>
</li>
<li><a href="#_touch">43.10. touch</a>
<ul class="sectlevel3">
<li><a href="#_posix_syntax_19">43.10.1. POSIX Syntax</a></li>
<li><a href="#_supported_options_11">43.10.2. Supported Options</a></li>
<li><a href="#_nushell_conversion_19">43.10.3. Nushell Conversion</a></li>
<li><a href="#_examples_22">43.10.4. Examples</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_text_processing">44. Text Processing</a>
<ul class="sectlevel2">
<li><a href="#_cat">44.1. cat</a>
<ul class="sectlevel3">
<li><a href="#_posix_syntax_20">44.1.1. POSIX Syntax</a></li>
<li><a href="#_supported_options_12">44.1.2. Supported Options</a></li>
<li><a href="#_nushell_conversion_20">44.1.3. Nushell Conversion</a></li>
<li><a href="#_examples_23">44.1.4. Examples</a></li>
</ul>
</li>
<li><a href="#_head">44.2. head</a>
<ul class="sectlevel3">
<li><a href="#_posix_syntax_21">44.2.1. POSIX Syntax</a></li>
<li><a href="#_supported_options_13">44.2.2. Supported Options</a></li>
<li><a href="#_nushell_conversion_21">44.2.3. Nushell Conversion</a></li>
<li><a href="#_examples_24">44.2.4. Examples</a></li>
</ul>
</li>
<li><a href="#_tail">44.3. tail</a>
<ul class="sectlevel3">
<li><a href="#_posix_syntax_22">44.3.1. POSIX Syntax</a></li>
<li><a href="#_supported_options_14">44.3.2. Supported Options</a></li>
<li><a href="#_nushell_conversion_22">44.3.3. Nushell Conversion</a></li>
<li><a href="#_examples_25">44.3.4. Examples</a></li>
</ul>
</li>
<li><a href="#_wc">44.4. wc</a>
<ul class="sectlevel3">
<li><a href="#_posix_syntax_23">44.4.1. POSIX Syntax</a></li>
<li><a href="#_supported_options_15">44.4.2. Supported Options</a></li>
<li><a href="#_nushell_conversion_23">44.4.3. Nushell Conversion</a></li>
<li><a href="#_examples_26">44.4.4. Examples</a></li>
</ul>
</li>
<li><a href="#_sort">44.5. sort</a>
<ul class="sectlevel3">
<li><a href="#_posix_syntax_24">44.5.1. POSIX Syntax</a></li>
<li><a href="#_supported_options_16">44.5.2. Supported Options</a></li>
<li><a href="#_nushell_conversion_24">44.5.3. Nushell Conversion</a></li>
<li><a href="#_examples_27">44.5.4. Examples</a></li>
</ul>
</li>
<li><a href="#_uniq">44.6. uniq</a>
<ul class="sectlevel3">
<li><a href="#_posix_syntax_25">44.6.1. POSIX Syntax</a></li>
<li><a href="#_supported_options_17">44.6.2. Supported Options</a></li>
<li><a href="#_nushell_conversion_25">44.6.3. Nushell Conversion</a></li>
<li><a href="#_examples_28">44.6.4. Examples</a></li>
</ul>
</li>
<li><a href="#_cut">44.7. cut</a>
<ul class="sectlevel3">
<li><a href="#_posix_syntax_26">44.7.1. POSIX Syntax</a></li>
<li><a href="#_supported_options_18">44.7.2. Supported Options</a></li>
<li><a href="#_nushell_conversion_26">44.7.3. Nushell Conversion</a></li>
<li><a href="#_examples_29">44.7.4. Examples</a></li>
</ul>
</li>
<li><a href="#_tr">44.8. tr</a>
<ul class="sectlevel3">
<li><a href="#_posix_syntax_27">44.8.1. POSIX Syntax</a></li>
<li><a href="#_supported_options_19">44.8.2. Supported Options</a></li>
<li><a href="#_nushell_conversion_27">44.8.3. Nushell Conversion</a></li>
<li><a href="#_examples_30">44.8.4. Examples</a></li>
</ul>
</li>
<li><a href="#_grep">44.9. grep</a>
<ul class="sectlevel3">
<li><a href="#_posix_syntax_28">44.9.1. POSIX Syntax</a></li>
<li><a href="#_supported_options_20">44.9.2. Supported Options</a></li>
<li><a href="#_nushell_conversion_28">44.9.3. Nushell Conversion</a></li>
<li><a href="#_examples_31">44.9.4. Examples</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_system_information">45. System Information</a>
<ul class="sectlevel2">
<li><a href="#_ps">45.1. ps</a>
<ul class="sectlevel3">
<li><a href="#_posix_syntax_29">45.1.1. POSIX Syntax</a></li>
<li><a href="#_supported_options_21">45.1.2. Supported Options</a></li>
<li><a href="#_nushell_conversion_29">45.1.3. Nushell Conversion</a></li>
<li><a href="#_examples_32">45.1.4. Examples</a></li>
</ul>
</li>
<li><a href="#_kill">45.2. kill</a>
<ul class="sectlevel3">
<li><a href="#_posix_syntax_30">45.2.1. POSIX Syntax</a></li>
<li><a href="#_supported_options_22">45.2.2. Supported Options</a></li>
<li><a href="#_nushell_conversion_30">45.2.3. Nushell Conversion</a></li>
<li><a href="#_examples_33">45.2.4. Examples</a></li>
</ul>
</li>
<li><a href="#_who">45.3. who</a>
<ul class="sectlevel3">
<li><a href="#_posix_syntax_31">45.3.1. POSIX Syntax</a></li>
<li><a href="#_nushell_conversion_31">45.3.2. Nushell Conversion</a></li>
<li><a href="#_examples_34">45.3.3. Examples</a></li>
</ul>
</li>
<li><a href="#_id">45.4. id</a>
<ul class="sectlevel3">
<li><a href="#_posix_syntax_32">45.4.1. POSIX Syntax</a></li>
<li><a href="#_supported_options_23">45.4.2. Supported Options</a></li>
<li><a href="#_nushell_conversion_32">45.4.3. Nushell Conversion</a></li>
<li><a href="#_examples_35">45.4.4. Examples</a></li>
</ul>
</li>
<li><a href="#_uname">45.5. uname</a>
<ul class="sectlevel3">
<li><a href="#_posix_syntax_33">45.5.1. POSIX Syntax</a></li>
<li><a href="#_supported_options_24">45.5.2. Supported Options</a></li>
<li><a href="#_nushell_conversion_33">45.5.3. Nushell Conversion</a></li>
<li><a href="#_examples_36">45.5.4. Examples</a></li>
</ul>
</li>
<li><a href="#_date">45.6. date</a>
<ul class="sectlevel3">
<li><a href="#_posix_syntax_34">45.6.1. POSIX Syntax</a></li>
<li><a href="#_supported_options_25">45.6.2. Supported Options</a></li>
<li><a href="#_nushell_conversion_34">45.6.3. Nushell Conversion</a></li>
<li><a href="#_examples_37">45.6.4. Examples</a></li>
</ul>
</li>
<li><a href="#_df">45.7. df</a>
<ul class="sectlevel3">
<li><a href="#_posix_syntax_35">45.7.1. POSIX Syntax</a></li>
<li><a href="#_supported_options_26">45.7.2. Supported Options</a></li>
<li><a href="#_nushell_conversion_35">45.7.3. Nushell Conversion</a></li>
<li><a href="#_examples_38">45.7.4. Examples</a></li>
</ul>
</li>
<li><a href="#_du">45.8. du</a>
<ul class="sectlevel3">
<li><a href="#_posix_syntax_36">45.8.1. POSIX Syntax</a></li>
<li><a href="#_supported_options_27">45.8.2. Supported Options</a></li>
<li><a href="#_nushell_conversion_36">45.8.3. Nushell Conversion</a></li>
<li><a href="#_examples_39">45.8.4. Examples</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_search_commands">46. Search Commands</a>
<ul class="sectlevel2">
<li><a href="#_find">46.1. find</a>
<ul class="sectlevel3">
<li><a href="#_posix_syntax_37">46.1.1. POSIX Syntax</a></li>
<li><a href="#_supported_options_28">46.1.2. Supported Options</a></li>
<li><a href="#_nushell_conversion_37">46.1.3. Nushell Conversion</a></li>
<li><a href="#_examples_40">46.1.4. Examples</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_external_commands">47. External Commands</a>
<ul class="sectlevel2">
<li><a href="#_awk">47.1. awk</a>
<ul class="sectlevel3">
<li><a href="#_posix_syntax_38">47.1.1. POSIX Syntax</a></li>
<li><a href="#_supported_options_29">47.1.2. Supported Options</a></li>
<li><a href="#_nushell_conversion_38">47.1.3. Nushell Conversion</a></li>
<li><a href="#_examples_41">47.1.4. Examples</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_control_structures_2">48. Control Structures</a>
<ul class="sectlevel2">
<li><a href="#_if">48.1. if</a>
<ul class="sectlevel3">
<li><a href="#_posix_syntax_39">48.1.1. POSIX Syntax</a></li>
<li><a href="#_nushell_conversion_39">48.1.2. Nushell Conversion</a></li>
<li><a href="#_examples_42">48.1.3. Examples</a></li>
</ul>
</li>
<li><a href="#_for">48.2. for</a>
<ul class="sectlevel3">
<li><a href="#_posix_syntax_40">48.2.1. POSIX Syntax</a></li>
<li><a href="#_nushell_conversion_40">48.2.2. Nushell Conversion</a></li>
<li><a href="#_examples_43">48.2.3. Examples</a></li>
</ul>
</li>
<li><a href="#_while">48.3. while</a>
<ul class="sectlevel3">
<li><a href="#_posix_syntax_41">48.3.1. POSIX Syntax</a></li>
<li><a href="#_nushell_conversion_41">48.3.2. Nushell Conversion</a></li>
<li><a href="#_examples_44">48.3.3. Examples</a></li>
</ul>
</li>
<li><a href="#_until">48.4. until</a>
<ul class="sectlevel3">
<li><a href="#_posix_syntax_42">48.4.1. POSIX Syntax</a></li>
<li><a href="#_nushell_conversion_42">48.4.2. Nushell Conversion</a></li>
<li><a href="#_examples_45">48.4.3. Examples</a></li>
</ul>
</li>
<li><a href="#_case">48.5. case</a>
<ul class="sectlevel3">
<li><a href="#_posix_syntax_43">48.5.1. POSIX Syntax</a></li>
<li><a href="#_nushell_conversion_43">48.5.2. Nushell Conversion</a></li>
<li><a href="#_examples_46">48.5.3. Examples</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_operators">49. Operators</a>
<ul class="sectlevel2">
<li><a href="#_logical_operators_2">49.1. Logical Operators</a>
<ul class="sectlevel3">
<li><a href="#_and">49.1.1. AND (&amp;&amp;)</a></li>
<li><a href="#_or">49.1.2. OR (||)</a></li>
<li><a href="#_not">49.1.3. NOT (!)</a></li>
</ul>
</li>
<li><a href="#_arithmetic_operators">49.2. Arithmetic Operators</a>
<ul class="sectlevel3">
<li><a href="#_addition">49.2.1. Addition</a></li>
<li><a href="#_subtraction">49.2.2. Subtraction</a></li>
<li><a href="#_multiplication">49.2.3. Multiplication</a></li>
<li><a href="#_division">49.2.4. Division</a></li>
<li><a href="#_modulo">49.2.5. Modulo</a></li>
</ul>
</li>
<li><a href="#_comparison_operators">49.3. Comparison Operators</a>
<ul class="sectlevel3">
<li><a href="#_string_equality">49.3.1. String Equality</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#chapter-15">Chapter 15: Troubleshooting</a>
<ul class="sectlevel1">
<li><a href="#_overview_4">50. Overview</a></li>
<li><a href="#_installation_issues">51. Installation Issues</a>
<ul class="sectlevel2">
<li><a href="#_plugin_registration_problems">51.1. Plugin Registration Problems</a>
<ul class="sectlevel3">
<li><a href="#_symptom">51.1.1. Symptom</a></li>
<li><a href="#_solutions">51.1.2. Solutions</a></li>
<li><a href="#_symptom_2">51.1.3. Symptom</a></li>
<li><a href="#_solutions_2">51.1.4. Solutions</a></li>
</ul>
</li>
<li><a href="#_compilation_errors">51.2. Compilation Errors</a>
<ul class="sectlevel3">
<li><a href="#_symptom_3">51.2.1. Symptom</a></li>
<li><a href="#_solutions_3">51.2.2. Solutions</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_conversion_errors">52. Conversion Errors</a>
<ul class="sectlevel2">
<li><a href="#_parse_errors">52.1. Parse Errors</a>
<ul class="sectlevel3">
<li><a href="#_symptom_4">52.1.1. Symptom</a></li>
<li><a href="#_common_causes_and_solutions">52.1.2. Common Causes and Solutions</a></li>
<li><a href="#_example_fix">52.1.3. Example Fix</a></li>
</ul>
</li>
<li><a href="#_conversion_errors_2">52.2. Conversion Errors</a>
<ul class="sectlevel3">
<li><a href="#_symptom_5">52.2.1. Symptom</a></li>
<li><a href="#_solutions_4">52.2.2. Solutions</a></li>
<li><a href="#_symptom_6">52.2.3. Symptom</a></li>
<li><a href="#_solutions_5">52.2.4. Solutions</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_performance_issues">53. Performance Issues</a>
<ul class="sectlevel2">
<li><a href="#_slow_conversion">53.1. Slow Conversion</a>
<ul class="sectlevel3">
<li><a href="#_symptom_7">53.1.1. Symptom</a></li>
<li><a href="#_solutions_6">53.1.2. Solutions</a></li>
</ul>
</li>
<li><a href="#_memory_usage">53.2. Memory Usage</a>
<ul class="sectlevel3">
<li><a href="#_symptom_8">53.2.1. Symptom</a></li>
<li><a href="#_solutions_7">53.2.2. Solutions</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_output_issues">54. Output Issues</a>
<ul class="sectlevel2">
<li><a href="#_incorrect_nu_syntax">54.1. Incorrect Nu Syntax</a>
<ul class="sectlevel3">
<li><a href="#_symptom_9">54.1.1. Symptom</a></li>
<li><a href="#_solutions_8">54.1.2. Solutions</a></li>
</ul>
</li>
<li><a href="#_missing_features">54.2. Missing Features</a>
<ul class="sectlevel3">
<li><a href="#_symptom_10">54.2.1. Symptom</a></li>
<li><a href="#_solutions_9">54.2.2. Solutions</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_awk_specific_issues">55. AWK-Specific Issues</a>
<ul class="sectlevel2">
<li><a href="#_awk_scripts_not_working">55.1. AWK Scripts Not Working</a>
<ul class="sectlevel3">
<li><a href="#_symptom_11">55.1.1. Symptom</a></li>
<li><a href="#_solutions_10">55.1.2. Solutions</a></li>
</ul>
</li>
<li><a href="#_complex_awk_programs">55.2. Complex AWK Programs</a>
<ul class="sectlevel3">
<li><a href="#_symptom_12">55.2.1. Symptom</a></li>
<li><a href="#_solutions_11">55.2.2. Solutions</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_registry_issues">56. Registry Issues</a>
<ul class="sectlevel2">
<li><a href="#_command_not_found">56.1. Command Not Found</a>
<ul class="sectlevel3">
<li><a href="#_symptom_13">56.1.1. Symptom</a></li>
<li><a href="#_solutions_12">56.1.2. Solutions</a></li>
</ul>
</li>
<li><a href="#_converter_conflicts">56.2. Converter Conflicts</a>
<ul class="sectlevel3">
<li><a href="#_symptom_14">56.2.1. Symptom</a></li>
<li><a href="#_solutions_13">56.2.2. Solutions</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_debug_techniques">57. Debug Techniques</a>
<ul class="sectlevel2">
<li><a href="#_enable_debug_logging">57.1. Enable Debug Logging</a></li>
<li><a href="#_use_verbose_output">57.2. Use Verbose Output</a></li>
<li><a href="#_step_by_step_debugging">57.3. Step-by-Step Debugging</a></li>
<li><a href="#_test_with_simple_cases">57.4. Test with Simple Cases</a></li>
</ul>
</li>
<li><a href="#_common_error_messages">58. Common Error Messages</a>
<ul class="sectlevel2">
<li><a href="#_parse_errors_2">58.1. Parse Errors</a></li>
<li><a href="#_conversion_errors_3">58.2. Conversion Errors</a></li>
</ul>
</li>
<li><a href="#_performance_optimization">59. Performance Optimization</a>
<ul class="sectlevel2">
<li><a href="#_conversion_speed">59.1. Conversion Speed</a></li>
<li><a href="#_memory_usage_2">59.2. Memory Usage</a></li>
</ul>
</li>
<li><a href="#_best_practices_2">60. Best Practices</a>
<ul class="sectlevel2">
<li><a href="#_script_preparation">60.1. Script Preparation</a></li>
<li><a href="#_conversion_process">60.2. Conversion Process</a></li>
<li><a href="#_error_handling_2">60.3. Error Handling</a></li>
</ul>
</li>
<li><a href="#_getting_help">61. Getting Help</a>
<ul class="sectlevel2">
<li><a href="#_documentation_2">61.1. Documentation</a></li>
<li><a href="#_community_support">61.2. Community Support</a></li>
<li><a href="#_bug_reports">61.3. Bug Reports</a></li>
</ul>
</li>
<li><a href="#_conclusion_4">62. Conclusion</a></li>
<li><a href="#_installation_guide">63. Installation Guide</a>
<ul class="sectlevel2">
<li><a href="#_system_requirements">63.1. System Requirements</a></li>
<li><a href="#_installation_methods">63.2. Installation Methods</a>
<ul class="sectlevel3">
<li><a href="#_method_1_from_source_recommended">63.2.1. Method 1: From Source (Recommended)</a></li>
<li><a href="#_method_2_using_cargo">63.2.2. Method 2: Using Cargo</a></li>
<li><a href="#_method_3_package_managers">63.2.3. Method 3: Package Managers</a></li>
</ul>
</li>
<li><a href="#_verification">63.3. Verification</a></li>
</ul>
</li>
<li><a href="#_configuration">64. Configuration</a>
<ul class="sectlevel2">
<li><a href="#_plugin_configuration">64.1. Plugin Configuration</a></li>
<li><a href="#_nushell_configuration">64.2. Nushell Configuration</a></li>
</ul>
</li>
<li><a href="#_usage_patterns">65. Usage Patterns</a>
<ul class="sectlevel2">
<li><a href="#_script_migration_workflow">65.1. Script Migration Workflow</a></li>
<li><a href="#_batch_processing">65.2. Batch Processing</a></li>
<li><a href="#_pipeline_integration">65.3. Pipeline Integration</a></li>
</ul>
</li>
<li><a href="#_best_practices_3">66. Best Practices</a>
<ul class="sectlevel2">
<li><a href="#_script_conversion">66.1. Script Conversion</a></li>
<li><a href="#_performance_optimization_2">66.2. Performance Optimization</a></li>
<li><a href="#_error_handling_3">66.3. Error Handling</a></li>
</ul>
</li>
<li><a href="#_production_deployment">67. Production Deployment</a>
<ul class="sectlevel2">
<li><a href="#_cicd_integration">67.1. CI/CD Integration</a></li>
<li><a href="#_docker_integration">67.2. Docker Integration</a></li>
<li><a href="#_monitoring_and_maintenance">67.3. Monitoring and Maintenance</a></li>
</ul>
</li>
<li><a href="#_security_considerations">68. Security Considerations</a>
<ul class="sectlevel2">
<li><a href="#_input_validation">68.1. Input Validation</a></li>
<li><a href="#_output_verification">68.2. Output Verification</a></li>
<li><a href="#_environment_security">68.3. Environment Security</a></li>
</ul>
</li>
<li><a href="#_migration_strategies">69. Migration Strategies</a>
<ul class="sectlevel2">
<li><a href="#_gradual_migration">69.1. Gradual Migration</a></li>
<li><a href="#_parallel_operation">69.2. Parallel Operation</a></li>
<li><a href="#_training_and_adoption">69.3. Training and Adoption</a></li>
</ul>
</li>
<li><a href="#_performance_tuning">70. Performance Tuning</a>
<ul class="sectlevel2">
<li><a href="#_optimization_techniques">70.1. Optimization Techniques</a></li>
<li><a href="#_resource_management">70.2. Resource Management</a></li>
</ul>
</li>
<li><a href="#_conclusion_5">71. Conclusion</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_overview">1. Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This operator guide provides comprehensive documentation for using the nu-posix plugin effectively in production environments. It covers installation, configuration, usage patterns, command reference, and troubleshooting for system administrators, DevOps engineers, and end users.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_target_audience">2. Target Audience</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This guide is intended for:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>System Administrators</strong>: Managing shell script migration and system automation</p>
</li>
<li>
<p><strong>DevOps Engineers</strong>: Integrating nu-posix into CI/CD pipelines and deployment workflows</p>
</li>
<li>
<p><strong>End Users</strong>: Converting existing POSIX scripts to Nushell for daily use</p>
</li>
<li>
<p><strong>Technical Operators</strong>: Those responsible for maintaining and operating nu-posix in production</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_prerequisites">3. Prerequisites</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before using this guide, you should have:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Basic familiarity with Nushell shell</p>
</li>
<li>
<p>Experience with POSIX shell scripting (bash, sh, zsh)</p>
</li>
<li>
<p>Understanding of system administration concepts</p>
</li>
<li>
<p>Access to systems where scripts need to be converted</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_guide_structure">4. Guide Structure</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This guide is organized into four main sections:</p>
</div>
<div class="sect2">
<h3 id="_foundation_chapters_1_3">4.1. Foundation (Chapters 1-3)</h3>
<div class="paragraph">
<p>Understanding why nu-posix exists, its current capabilities, and how it works at a high level.</p>
</div>
</div>
<div class="sect2">
<h3 id="_installation_setup">4.2. Installation &amp; Setup</h3>
<div class="paragraph">
<p>Getting nu-posix installed and configured for your environment.</p>
</div>
</div>
<div class="sect2">
<h3 id="_usage_operations_chapters_14_15">4.3. Usage &amp; Operations (Chapters 14-15)</h3>
<div class="paragraph">
<p>Practical guidance for using nu-posix commands and solving common problems.</p>
</div>
</div>
<div class="sect2">
<h3 id="_best_practices">4.4. Best Practices</h3>
<div class="paragraph">
<p>Recommended workflows and patterns for successful script migration.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_quick_start_for_operators">5. Quick Start for Operators</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_installation">5.1. Installation</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Install Nushell</strong> (if not already installed):
```bash
# Using package manager (Ubuntu/Debian)
sudo apt install nushell</p>
<div class="literalblock">
<div class="content">
<pre># Using Cargo
cargo install nu</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre># Using Homebrew (macOS)
brew install nushell
```</pre>
</div>
</div>
</li>
<li>
<p><strong>Install nu-posix plugin</strong>:
```bash
# Build from source
git clone <a href="https://github.com/nushell/nu-posix.git" class="bare">https://github.com/nushell/nu-posix.git</a>
cd nu-posix
cargo build --release</p>
<div class="literalblock">
<div class="content">
<pre># Register with Nushell
nu -c "plugin add target/release/nu-posix"
nu -c "plugin use nu-posix"
```</pre>
</div>
</div>
</li>
<li>
<p><strong>Verify installation</strong>:
```nu
# Test basic conversion
"echo hello world" | from posix</p>
<div class="literalblock">
<div class="content">
<pre># Should output: echo hello world
```</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_basic_usage">5.2. Basic Usage</h3>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Convert simple POSIX command
"ls -la" | from posix

# Convert pipeline
"cat file.txt | grep pattern" | from posix

# Convert complex script
open script.sh | from posix | save converted_script.nu

# Parse script to see AST
"echo hello" | parse posix</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_common_use_cases">5.3. Common Use Cases</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>DevOps Script Migration</strong>:
```nu
# Convert build script
open build.sh | from posix | save build.nu</p>
<div class="literalblock">
<div class="content">
<pre># Convert deployment script
open deploy.sh | from posix | save deploy.nu
```</pre>
</div>
</div>
</li>
<li>
<p><strong>System Administration</strong>:
<code><code>nu
# Convert maintenance scripts
ls /scripts/*.sh | each { |file|
    open $file | from posix | save ($file | str replace .sh .nu)
}
</code></code></p>
</li>
<li>
<p><strong>Interactive Conversion</strong>:
<code><code>nu
# Convert command interactively
"find . -name '*.txt' -exec cat {} \;" | from posix
</code></code></p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_chapter_contents">6. Chapter Contents</h2>
<div class="sectionbody">

</div>
</div>
<h1 id="problem-description" class="sect0">Problem Description</h1>
<div class="sect1">
<h2 id="_overview_2">7. Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The proliferation of POSIX shell scripts in system administration, DevOps, and automation has created a significant challenge for users transitioning to modern shells like Nushell. While Nushell offers superior data handling, type safety, and pipeline semantics, the vast ecosystem of existing POSIX shell scripts represents a substantial investment that cannot be easily abandoned.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_shell_transition_challenge">8. The Shell Transition Challenge</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_legacy_script_investment">8.1. Legacy Script Investment</h3>
<div class="paragraph">
<p>Organizations and individuals have accumulated thousands of POSIX shell scripts over decades, representing:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Critical system automation</p>
</li>
<li>
<p>Deployment pipelines</p>
</li>
<li>
<p>Configuration management</p>
</li>
<li>
<p>Monitoring and alerting systems</p>
</li>
<li>
<p>Data processing workflows</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These scripts embody institutional knowledge and proven workflows that are difficult to recreate from scratch.</p>
</div>
</div>
<div class="sect2">
<h3 id="_posix_shell_limitations">8.2. POSIX Shell Limitations</h3>
<div class="paragraph">
<p>Traditional POSIX shells suffer from several fundamental limitations:</p>
</div>
<div class="sect3">
<h4 id="_data_handling">8.2.1. Data Handling</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Text-based Everything</strong>: All data is treated as strings, requiring extensive parsing</p>
</li>
<li>
<p><strong>No Type Safety</strong>: Variables have no inherent type information</p>
</li>
<li>
<p><strong>Error-prone Processing</strong>: Complex text manipulation is fragile and hard to maintain</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_pipeline_semantics">8.2.2. Pipeline Semantics</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Unstructured Data Flow</strong>: Pipelines pass untyped text streams</p>
</li>
<li>
<p><strong>Limited Composition</strong>: Difficult to build complex data transformations</p>
</li>
<li>
<p><strong>Poor Error Handling</strong>: Errors often go unnoticed or are handled inconsistently</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_development_experience">8.2.3. Development Experience</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Cryptic Syntax</strong>: Complex quoting rules and parameter expansion</p>
</li>
<li>
<p><strong>Poor Debugging</strong>: Limited introspection and debugging tools</p>
</li>
<li>
<p><strong>Maintenance Burden</strong>: Scripts become increasingly difficult to modify</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_nushells_advantages">8.3. Nushell&#8217;s Advantages</h3>
<div class="paragraph">
<p>Nushell addresses these limitations through:</p>
</div>
<div class="sect3">
<h4 id="_structured_data">8.3.1. Structured Data</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Type System</strong>: Built-in support for numbers, dates, file sizes, etc.</p>
</li>
<li>
<p><strong>Structured Pipelines</strong>: Data flows as typed records, not text</p>
</li>
<li>
<p><strong>Rich Data Types</strong>: Native support for JSON, CSV, XML, and other formats</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_modern_language_features">8.3.2. Modern Language Features</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Functional Programming</strong>: Immutable data and functional operations</p>
</li>
<li>
<p><strong>Error Handling</strong>: Explicit error propagation and handling</p>
</li>
<li>
<p><strong>Interactive Development</strong>: Rich REPL with tab completion and help system</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_ecosystem_integration">8.3.3. Ecosystem Integration</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Plugin Architecture</strong>: Extensible through native plugins</p>
</li>
<li>
<p><strong>Cross-platform</strong>: Consistent behavior across operating systems</p>
</li>
<li>
<p><strong>Modern Tooling</strong>: Integration with contemporary development practices</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_conversion_challenge">9. The Conversion Challenge</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_manual_migration_complexity">9.1. Manual Migration Complexity</h3>
<div class="paragraph">
<p>Converting POSIX shell scripts to Nushell manually presents several challenges:</p>
</div>
<div class="sect3">
<h4 id="_syntax_differences">9.1.1. Syntax Differences</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Command Substitution</strong>: <code>$(cmd)</code> vs <code>(cmd)</code></p>
</li>
<li>
<p><strong>Variable Expansion</strong>: <code>${var}</code> vs <code>$var</code></p>
</li>
<li>
<p><strong>Conditional Logic</strong>: <code>[ condition ]</code> vs <code>condition</code></p>
</li>
<li>
<p><strong>Loop Constructs</strong>: <code>for/while</code> syntax variations</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_semantic_differences">9.1.2. Semantic Differences</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Pipeline Data</strong>: Text streams vs structured records</p>
</li>
<li>
<p><strong>Command Behavior</strong>: POSIX utilities vs Nushell equivalents</p>
</li>
<li>
<p><strong>Error Handling</strong>: Exit codes vs error values</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_scale_problems">9.1.3. Scale Problems</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Volume</strong>: Thousands of scripts require conversion</p>
</li>
<li>
<p><strong>Consistency</strong>: Manual conversion leads to inconsistent patterns</p>
</li>
<li>
<p><strong>Validation</strong>: Difficult to verify conversion correctness</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_automated_conversion_requirements">9.2. Automated Conversion Requirements</h3>
<div class="paragraph">
<p>An effective automated conversion system must address:</p>
</div>
<div class="sect3">
<h4 id="_parsing_complexity">9.2.1. Parsing Complexity</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Complete POSIX Support</strong>: Handle all shell language constructs</p>
</li>
<li>
<p><strong>Dialect Variations</strong>: Support bash, zsh, and other shell extensions</p>
</li>
<li>
<p><strong>Error Recovery</strong>: Graceful handling of malformed scripts</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_conversion_accuracy">9.2.2. Conversion Accuracy</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Semantic Preservation</strong>: Maintain original script behavior</p>
</li>
<li>
<p><strong>Idiomatic Output</strong>: Generate natural Nushell code</p>
</li>
<li>
<p><strong>Performance Considerations</strong>: Optimize for Nushell&#8217;s strengths</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_practical_usability">9.2.3. Practical Usability</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Incremental Migration</strong>: Support partial conversion workflows</p>
</li>
<li>
<p><strong>Validation Tools</strong>: Verify conversion correctness</p>
</li>
<li>
<p><strong>Documentation</strong>: Generate migration guides and explanations</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_existing_solutions_and_limitations">10. Existing Solutions and Limitations</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_manual_rewriting">10.1. Manual Rewriting</h3>
<div class="paragraph">
<p><strong>Approach</strong>: Complete manual recreation of scripts in Nushell</p>
</div>
<div class="paragraph">
<p><strong>Limitations</strong>:
* Time-intensive and error-prone
* Requires deep knowledge of both shells
* Difficult to maintain consistency
* Does not scale to large codebases</p>
</div>
</div>
<div class="sect2">
<h3 id="_regex_based_substitution">10.2. Regex-based Substitution</h3>
<div class="paragraph">
<p><strong>Approach</strong>: Simple text replacement using regular expressions</p>
</div>
<div class="paragraph">
<p><strong>Limitations</strong>:
* Cannot handle complex syntax structures
* Fails with context-dependent constructs
* Produces fragile, non-idiomatic code
* No semantic understanding of code</p>
</div>
</div>
<div class="sect2">
<h3 id="_shell_wrappers">10.3. Shell Wrappers</h3>
<div class="paragraph">
<p><strong>Approach</strong>: Execute POSIX scripts within Nushell using external commands</p>
</div>
<div class="paragraph">
<p><strong>Limitations</strong>:
* Does not leverage Nushell&#8217;s data handling capabilities
* Maintains POSIX shell dependencies
* Limited integration with Nushell ecosystem
* No performance benefits</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_solution_requirements">11. Solution Requirements</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_functional_requirements">11.1. Functional Requirements</h3>
<div class="sect3">
<h4 id="_parsing_capabilities">11.1.1. Parsing Capabilities</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Complete POSIX Support</strong>: Parse all standard shell constructs</p>
</li>
<li>
<p><strong>Robust Error Handling</strong>: Graceful degradation for malformed input</p>
</li>
<li>
<p><strong>Dialect Flexibility</strong>: Support common shell extensions</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_conversion_quality">11.1.2. Conversion Quality</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Semantic Accuracy</strong>: Preserve original script behavior</p>
</li>
<li>
<p><strong>Idiomatic Output</strong>: Generate natural Nushell code</p>
</li>
<li>
<p><strong>Performance Optimization</strong>: Leverage Nushell&#8217;s strengths</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_usability_features">11.1.3. Usability Features</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Incremental Processing</strong>: Support partial conversion workflows</p>
</li>
<li>
<p><strong>Validation Tools</strong>: Verify conversion correctness</p>
</li>
<li>
<p><strong>Documentation Generation</strong>: Explain conversion decisions</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_technical_requirements">11.2. Technical Requirements</h3>
<div class="sect3">
<h4 id="_architecture">11.2.1. Architecture</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Modular Design</strong>: Extensible converter system</p>
</li>
<li>
<p><strong>Plugin Integration</strong>: Native Nushell plugin architecture</p>
</li>
<li>
<p><strong>Scalable Processing</strong>: Handle large script collections</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_quality_assurance">11.2.2. Quality Assurance</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Comprehensive Testing</strong>: Validate conversion accuracy</p>
</li>
<li>
<p><strong>Performance Benchmarks</strong>: Measure conversion speed</p>
</li>
<li>
<p><strong>Regression Prevention</strong>: Continuous validation</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_maintenance">11.2.3. Maintenance</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Clear Documentation</strong>: Comprehensive user and developer guides</p>
</li>
<li>
<p><strong>Active Development</strong>: Regular updates and improvements</p>
</li>
<li>
<p><strong>Community Support</strong>: Open source collaboration</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_target_use_cases">12. Target Use Cases</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_devops_migration">12.1. DevOps Migration</h3>
<div class="ulist">
<ul>
<li>
<p><strong>CI/CD Pipelines</strong>: Convert build and deployment scripts</p>
</li>
<li>
<p><strong>Infrastructure Automation</strong>: Migrate configuration management</p>
</li>
<li>
<p><strong>Monitoring Scripts</strong>: Transform alerting and monitoring tools</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_system_administration">12.2. System Administration</h3>
<div class="ulist">
<ul>
<li>
<p><strong>Maintenance Scripts</strong>: Convert routine administrative tasks</p>
</li>
<li>
<p><strong>Backup Systems</strong>: Migrate data protection workflows</p>
</li>
<li>
<p><strong>Log Processing</strong>: Transform log analysis tools</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_development_workflows">12.3. Development Workflows</h3>
<div class="ulist">
<ul>
<li>
<p><strong>Build Systems</strong>: Convert compilation and packaging scripts</p>
</li>
<li>
<p><strong>Testing Frameworks</strong>: Migrate test execution scripts</p>
</li>
<li>
<p><strong>Development Tools</strong>: Transform utility and helper scripts</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_success_metrics">13. Success Metrics</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_conversion_accuracy_2">13.1. Conversion Accuracy</h3>
<div class="ulist">
<ul>
<li>
<p><strong>Functional Equivalence</strong>: Converted scripts produce identical results</p>
</li>
<li>
<p><strong>Error Handling</strong>: Maintain original error behavior</p>
</li>
<li>
<p><strong>Performance</strong>: Acceptable conversion speed and output performance</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_usability">13.2. Usability</h3>
<div class="ulist">
<ul>
<li>
<p><strong>Learning Curve</strong>: Minimal training required for adoption</p>
</li>
<li>
<p><strong>Integration</strong>: Seamless workflow integration</p>
</li>
<li>
<p><strong>Documentation</strong>: Clear usage instructions and examples</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_ecosystem_impact">13.3. Ecosystem Impact</h3>
<div class="ulist">
<ul>
<li>
<p><strong>Adoption Rate</strong>: Widespread use within Nushell community</p>
</li>
<li>
<p><strong>Contribution</strong>: Active community development</p>
</li>
<li>
<p><strong>Innovation</strong>: Enables new workflow patterns</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conclusion">14. Conclusion</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The nu-posix project addresses the critical need for automated POSIX shell script conversion to Nushell. By providing a comprehensive, accurate, and usable conversion system, it enables organizations and individuals to leverage Nushell&#8217;s modern capabilities while preserving their existing script investments.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_technical_foundation_ast_mapping">15. Technical Foundation: AST Mapping</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_understanding_abstract_syntax_trees_asts">15.1. Understanding Abstract Syntax Trees (ASTs)</h3>
<div class="paragraph">
<p>An AST is a tree representation of the abstract syntactic structure of source code written in a programming language. Each node in the tree denotes a construct occurring in the source code. The structure of an AST is crucial because it captures the hierarchical relationships and logical flow of the code, making it suitable for analysis, transformation, and compilation.</p>
</div>
<div class="paragraph">
<p>Mapping two different ASTs involves translating the constructs and relationships from one language&#8217;s syntax tree into another&#8217;s. This is particularly challenging when the underlying paradigms of the languages differ significantly, as is the case with traditional POSIX shells and Nushell.</p>
</div>
</div>
<div class="sect2">
<h3 id="_posix_ast_yash_syntax_overview">15.2. POSIX AST (yash-syntax) Overview</h3>
<div class="paragraph">
<p>A POSIX shell&#8217;s AST, like one generated by yash-syntax, reflects the traditional Unix philosophy of "everything is a string" and "pipes connect streams of text."</p>
</div>
<div class="paragraph">
<p>Key constructs typically found in a POSIX AST include:</p>
</div>
<div class="sect3">
<h4 id="_command">15.2.1. Command</h4>
<div class="paragraph">
<p>A simple command consists of a command name and its arguments.</p>
</div>
</div>
<div class="sect3">
<h4 id="_pipeline">15.2.2. Pipeline</h4>
<div class="paragraph">
<p>A sequence of one or more commands connected by pipes (|). The output of one command becomes the input of the next.</p>
</div>
</div>
<div class="sect3">
<h4 id="_redirection">15.2.3. Redirection</h4>
<div class="paragraph">
<p>Changing the input/output streams of a command (e.g., <code>command &gt; file</code>, <code>command &lt; file</code>, <code>command 2&gt;&amp;1</code>).</p>
</div>
</div>
<div class="sect3">
<h4 id="_listsequence">15.2.4. List/Sequence</h4>
<div class="paragraph">
<p>A series of commands executed sequentially, often separated by <code>;</code> or <code>&amp;</code> (for background execution).</p>
</div>
</div>
<div class="sect3">
<h4 id="_conditional_statements">15.2.5. Conditional Statements</h4>
<div class="paragraph">
<p><code>if-then-else-fi</code> blocks.</p>
</div>
</div>
<div class="sect3">
<h4 id="_looping_constructs">15.2.6. Looping Constructs</h4>
<div class="paragraph">
<p><code>for</code>, <code>while</code>, <code>until</code> loops.</p>
</div>
</div>
<div class="sect3">
<h4 id="_function_definitions">15.2.7. Function Definitions</h4>
<div class="paragraph">
<p>Defining shell functions.</p>
</div>
</div>
<div class="sect3">
<h4 id="_variable_assignments">15.2.8. Variable Assignments</h4>
<div class="paragraph">
<p><code>VAR=value</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_subshells">15.2.9. Subshells</h4>
<div class="paragraph">
<p>Commands executed in a new shell environment <code>(commands)</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_command_substitution">15.2.10. Command Substitution</h4>
<div class="paragraph">
<p><code>$(command)</code> or <code>\`command\`</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_arithmetic_expansion">15.2.11. Arithmetic Expansion</h4>
<div class="paragraph">
<p><code>$expression</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_parameter_expansion">15.2.12. Parameter Expansion</h4>
<div class="paragraph">
<p><code>${VAR}</code>, <code>${VAR:-default}</code>, etc.</p>
</div>
</div>
<div class="sect3">
<h4 id="_logical_operators">15.2.13. Logical Operators</h4>
<div class="paragraph">
<p><code>&amp;&amp;</code> (AND), <code>||</code> (OR) for conditional execution.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_nu_ast_nushell_overview">15.3. Nu AST (nushell) Overview</h3>
<div class="paragraph">
<p>Nushell&#8217;s AST reflects its core philosophy of "everything is structured data." While it supports traditional shell-like operations, its internal representation emphasizes typed values, tables, and blocks.</p>
</div>
<div class="paragraph">
<p>Key constructs in a Nu AST include:</p>
</div>
<div class="sect3">
<h4 id="_command_2">15.3.1. Command</h4>
<div class="paragraph">
<p>Similar to POSIX, but arguments can be structured (e.g., flags, named arguments).</p>
</div>
</div>
<div class="sect3">
<h4 id="_pipeline_2">15.3.2. Pipeline</h4>
<div class="paragraph">
<p>A sequence of commands, but the output of one command is structured data (e.g., a table, a list, a record) that becomes the structured input of the next.</p>
</div>
</div>
<div class="sect3">
<h4 id="_block">15.3.3. Block</h4>
<div class="paragraph">
<p>A collection of statements or expressions, often used in control flow, custom commands, or closures.</p>
</div>
</div>
<div class="sect3">
<h4 id="_expression">15.3.4. Expression</h4>
<div class="paragraph">
<p>Any construct that evaluates to a value (e.g., literals, variable access, function calls, arithmetic operations).</p>
</div>
</div>
<div class="sect3">
<h4 id="_literal">15.3.5. Literal</h4>
<div class="paragraph">
<p>Primitive values like numbers, strings, booleans, lists, records, paths.</p>
</div>
</div>
<div class="sect3">
<h4 id="_variable_definitionassignment">15.3.6. Variable Definition/Assignment</h4>
<div class="paragraph">
<p><code>let var = value</code>, <code>mut var = value</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_control_flow">15.3.7. Control Flow</h4>
<div class="paragraph">
<p><code>if-else</code>, <code>for</code> loops, <code>loop</code>, <code>match</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_custom_command_definition">15.3.8. Custom Command Definition</h4>
<div class="paragraph">
<p><code>def command_name [params] { body }</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_tablerecord_literals">15.3.9. Table/Record Literals</h4>
<div class="paragraph">
<p>Direct representation of structured data.</p>
</div>
</div>
<div class="sect3">
<h4 id="_closures">15.3.10. Closures</h4>
<div class="paragraph">
<p>Anonymous blocks of code.</p>
</div>
</div>
<div class="sect3">
<h4 id="_redirection_implicitexplicit">15.3.11. Redirection (Implicit/Explicit)</h4>
<div class="paragraph">
<p>While Nu has <code>&gt; file</code>, <code>&gt;&gt; file</code>, <code>| save file</code>, its primary data flow is through structured pipelines.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_mapping_challenges">15.4. Mapping Challenges</h3>
<div class="paragraph">
<p>The primary challenges in mapping POSIX to Nu AST arise from their fundamental differences:</p>
</div>
<div class="sect3">
<h4 id="_data_paradigm">15.4.1. Data Paradigm</h4>
<div class="ulist">
<ul>
<li>
<p><strong>POSIX</strong>: Text-stream-oriented. All data is essentially a string, and parsing happens at each command.</p>
</li>
<li>
<p><strong>Nu</strong>: Structured-data-oriented. Data flows as typed values (tables, lists, records, primitives) through the pipeline.</p>
</li>
<li>
<p><strong>Challenge</strong>: How to translate POSIX&#8217;s string-based input/output into Nu&#8217;s structured data. This often requires explicit parsing or interpretation in Nu.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_implicit_vs_explicit_structure">15.4.2. Implicit vs. Explicit Structure</h4>
<div class="ulist">
<ul>
<li>
<p><strong>POSIX</strong>: Structure is often implicit (e.g., whitespace separation for arguments).</p>
</li>
<li>
<p><strong>Nu</strong>: Structure is explicit (e.g., named arguments, flags, table columns).</p>
</li>
<li>
<p><strong>Challenge</strong>: Inferring Nu&#8217;s explicit structure from POSIX&#8217;s implicit one.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_command_vs_expression">15.4.3. Command vs. Expression</h4>
<div class="ulist">
<ul>
<li>
<p><strong>POSIX</strong>: Almost everything is a command.</p>
</li>
<li>
<p><strong>Nu</strong>: Distinguishes between commands (which operate on data) and expressions (which evaluate to data).</p>
</li>
<li>
<p><strong>Challenge</strong>: Deciding when a POSIX command maps to a Nu command and when it maps to an expression.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_feature_discrepancies">15.4.4. Feature Discrepancies</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Nu-specific features</strong>: Custom commands, record/table literals, advanced data manipulation commands (e.g., <code>group-by</code>, <code>pivot</code>). These have no direct POSIX equivalent.</p>
</li>
<li>
<p><strong>POSIX-specific features</strong>: Complex parameter expansions, arithmetic expansion, specific redirection types. These might require complex Nu equivalents or be untranslatable.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_proposed_mapping_strategy">15.5. Proposed Mapping Strategy</h3>
<div class="paragraph">
<p>A mapping strategy involves a recursive traversal of the POSIX AST, transforming each node into its Nu equivalent:</p>
</div>
<div class="sect3">
<h4 id="_direct_equivalents">15.5.1. Direct Equivalents</h4>
<div class="paragraph">
<p>Some constructs have relatively direct mappings:
* <strong>Simple Command</strong>: POSIX <code>CommandNode(name, args)</code> → Nu <code>Call(name, args)</code>
* <strong>Pipeline</strong>: POSIX <code>PipelineNode(cmd1, cmd2, &#8230;&#8203;)</code> → Nu <code>Pipeline(cmd1_nu, cmd2_nu, &#8230;&#8203;)</code>
* <strong>Variable Assignment</strong>: POSIX <code>AssignmentNode(name, value)</code> → Nu <code>LetNode(name, value_expr)</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_structural_transformations">15.5.2. Structural Transformations</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Redirections</strong>: POSIX <code>Command &gt; file</code> → Nu <code>Command | save file</code></p>
</li>
<li>
<p><strong>Conditional Statements</strong>: POSIX conditions based on command exit codes → Nu boolean expressions</p>
</li>
<li>
<p><strong>Loops</strong>: Similar transformation challenges with condition handling</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_semantic_translations">15.5.3. Semantic Translations</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Command Substitution</strong>: POSIX <code>$(command)</code> → Nu <code>(command_nu)</code> with data type considerations</p>
</li>
<li>
<p><strong>Arithmetic Expansion</strong>: POSIX <code>$expression</code> → Nu <code>(expression_nu)</code> with type awareness</p>
</li>
<li>
<p><strong>Parameter Expansion</strong>: Various POSIX patterns mapped to Nu string operations</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following chapters detail the architecture, implementation, and usage of the nu-posix system, providing both high-level understanding and practical guidance for effective script migration.</p>
</div>
</div>
</div>
</div>
</div>
<h1 id="project-status" class="sect0">Project Status</h1>
<div class="sect1">
<h2 id="_overview_3">16. Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>nu-posix</code> project has been successfully created as a Nushell plugin that converts POSIX shell scripts to idiomatic Nushell syntax.
This document summarizes the current state of the project.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_project_structure">17. Project Structure</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre>nu-posix/
├── src/
│   ├── main.rs                  # Plugin entry point
│   └── plugin/
│       ├── mod.rs               # Module exports
│       ├── core.rs              # Plugin implementation (commands)
│       ├── parser_posix.rs      # POSIX script parsing with yash-syntax
│       ├── parser_heuristic.rs  # Fallback heuristic parser
│       ├── converter.rs         # POSIX to Nushell conversion logic
│       ├── builtin/             # POSIX shell builtin converters
│       │   ├── mod.rs           # Builtin registry and traits
│       │   ├── cd.rs            # Directory navigation
│       │   ├── exit.rs          # Process termination
│       │   ├── jobs.rs          # Job control
│       │   ├── kill.rs          # Process/job termination
│       │   ├── pwd.rs           # Working directory
│       │   ├── read.rs          # Input reading
│       │   ├── test.rs          # Conditional testing
│       │   └── ...              # Other builtins
│       └── sus/                 # Single Unix Specification utilities
│           ├── mod.rs           # Command registry and traits
│           ├── cat.rs           # File concatenation
│           ├── ls.rs            # Directory listing
│           ├── grep.rs          # Pattern matching
│           ├── find.rs          # File system search
│           ├── sed.rs           # Stream editing
│           └── ...              # Other SUS commands
├── examples/
│   └── sample.sh               # Example POSIX script for testing
├── Cargo.toml                  # Rust dependencies
├── pixi.toml                   # Pixi configuration
├── README.adoc                 # Comprehensive documentation
└── PROJECT_STATUS.adoc         # This file</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_status">18. Implementation Status</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_completed_features">18.1. ✅ Completed Features</h3>
<div class="sect3">
<h4 id="_plugin_architecture">18.1.1. Plugin Architecture</h4>
<div class="ulist">
<ul>
<li>
<p>Proper Nushell plugin structure using <code>nu-plugin</code> crate</p>
</li>
<li>
<p>Three main commands: <code>from posix</code>, <code>to posix</code>, <code>parse posix</code></p>
</li>
<li>
<p>Compatible with Nushell 0.105</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_posix_parser">18.1.2. POSIX Parser</h4>
<div class="ulist">
<ul>
<li>
<p>Dual-parser architecture: yash-syntax primary, heuristic fallback</p>
</li>
<li>
<p>Handles commands, pipelines, and control structures</p>
</li>
<li>
<p>Parses variable assignments and operators</p>
</li>
<li>
<p>Supports comments and empty lines</p>
</li>
<li>
<p>AST generation for complex script analysis</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_command_conversion_architecture">18.1.3. Command Conversion Architecture</h4>
<div class="ulist">
<ul>
<li>
<p>Hierarchical conversion system with prioritized registries:</p>
<div class="ulist">
<ul>
<li>
<p>Builtin Registry: Shell built-in commands processed first</p>
</li>
<li>
<p>SUS Registry: External utilities processed second</p>
</li>
<li>
<p>Legacy Fallback: 9 commands still need migration to SUS registry</p>
</li>
</ul>
</div>
</li>
<li>
<p>Proper separation of POSIX shell builtins from external utilities</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_posix_shell_builtin_converters">18.1.4. POSIX Shell Builtin Converters</h4>
<div class="ulist">
<ul>
<li>
<p><code>cd</code> with <code>-L</code>/<code>-P</code> flags for logical/physical paths</p>
</li>
<li>
<p><code>exit</code> with status code handling</p>
</li>
<li>
<p><code>false</code> and <code>true</code> built-ins</p>
</li>
<li>
<p><code>jobs</code> with filtering and formatting options</p>
</li>
<li>
<p><code>kill</code> with signal handling and job specifications</p>
</li>
<li>
<p><code>pwd</code> with logical/physical path options</p>
</li>
<li>
<p><code>read</code> with prompts, variables, and timeout support</p>
</li>
<li>
<p><code>test</code> and <code>[</code> with full conditional expression support</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_sus_external_utility_converters">18.1.5. SUS External Utility Converters</h4>
<div class="ulist">
<ul>
<li>
<p><code>cat</code> → <code>open --raw</code> with file handling</p>
</li>
<li>
<p><code>ls</code> with comprehensive flag mapping</p>
</li>
<li>
<p><code>grep</code> → <code>where</code> with regex pattern matching</p>
</li>
<li>
<p><code>find</code> → <code>ls</code> with filtering and search operations</p>
</li>
<li>
<p><code>sed</code> → string operations with pattern replacement</p>
</li>
<li>
<p><code>head</code>/<code>tail</code> → <code>first</code>/<code>last</code> with count options</p>
</li>
<li>
<p><code>wc</code> → <code>length</code> with word/line/character counting</p>
</li>
<li>
<p><code>cut</code> → field and character extraction</p>
</li>
<li>
<p><code>date</code> → date operations with format conversion</p>
</li>
<li>
<p><code>echo</code> → <code>print</code> with flag handling</p>
</li>
<li>
<p><code>mkdir</code>, <code>cp</code>, <code>mv</code>, <code>rm</code> with option mapping</p>
</li>
<li>
<p><code>sort</code>, <code>uniq</code>, <code>rmdir</code>, <code>chmod</code>, <code>chown</code> with comprehensive flag support</p>
</li>
<li>
<p><strong>27 SUS commands implemented</strong>, 4 legacy commands need migration</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_pipeline_conversion">18.1.6. Pipeline Conversion</h4>
<div class="ulist">
<ul>
<li>
<p>Basic pipeline transformation (<code>cmd1 | cmd2</code>)</p>
</li>
<li>
<p>AND/OR operators (<code>&amp;&amp;</code> → <code>and</code>, <code>||</code> → <code>or</code>)</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_control_structures">18.1.7. Control Structures</h4>
<div class="ulist">
<ul>
<li>
<p>Basic if/then/else statements</p>
</li>
<li>
<p>Simple for loops</p>
</li>
<li>
<p>Variable assignments</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_testing">18.1.8. Testing</h4>
<div class="ulist">
<ul>
<li>
<p>Comprehensive test suite with 61 tests</p>
</li>
<li>
<p>Individual test coverage for all builtin and SUS converters</p>
</li>
<li>
<p>Parser tests for both yash-syntax and heuristic approaches</p>
</li>
<li>
<p>Conversion tests for complex command patterns</p>
</li>
<li>
<p>Registry system tests for proper command routing</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_️_current_limitations">18.2. ⚠️ Current Limitations</h3>
<div class="sect3">
<h4 id="_posix_parser_2">18.2.1. POSIX Parser</h4>
<div class="ulist">
<ul>
<li>
<p>Full yash-syntax integration implemented with heuristic fallback</p>
</li>
<li>
<p>Some advanced shell constructs may fall back to heuristic parsing</p>
</li>
<li>
<p>Complex nested structures may need additional handling</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_conversion_scope">18.2.2. Conversion Scope</h4>
<div class="ulist">
<ul>
<li>
<p>27 SUS commands implemented with comprehensive flag support</p>
</li>
<li>
<p>9 shell builtins implemented with full POSIX compliance</p>
</li>
<li>
<p>4 legacy commands in converter.rs need migration to SUS registry</p>
</li>
<li>
<p>Advanced shell features still limited:</p>
<div class="ulist">
<ul>
<li>
<p>Complex parameter expansion</p>
</li>
<li>
<p>Here-documents</p>
</li>
<li>
<p>Background processes</p>
</li>
<li>
<p>Function definitions with parameters</p>
</li>
<li>
<p>Complex case statements</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_test_coverage">18.2.3. Test Coverage</h4>
<div class="ulist">
<ul>
<li>
<p>Some test failures due to quoting behavior differences</p>
</li>
<li>
<p>Tests may need updates to match new architecture behavior</p>
</li>
<li>
<p>Integration tests needed for full converter pipeline</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_technical_details">19. Technical Details</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_dependencies">19.1. Dependencies</h3>
<div class="ulist">
<ul>
<li>
<p><code>nu-plugin</code>: 0.105 (matches local Nushell version)</p>
</li>
<li>
<p><code>nu-protocol</code>: 0.105</p>
</li>
<li>
<p><code>yash-syntax</code>: 0.15 (primary POSIX parser)</p>
</li>
<li>
<p><code>anyhow</code>: 1.0 (error handling)</p>
</li>
<li>
<p><code>serde</code>: 1.0 (serialization)</p>
</li>
<li>
<p><code>serde_json</code>: 1.0 (JSON handling)</p>
</li>
<li>
<p><code>thiserror</code>: 1.0 (error types)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_build_status">19.2. Build Status</h3>
<div class="ulist">
<ul>
<li>
<p>✅ Compiles successfully</p>
</li>
<li>
<p>⚠️ Some tests need updates for new architecture</p>
</li>
<li>
<p>✅ Plugin binary created</p>
</li>
<li>
<p>✅ Successfully registered with Nushell 0.105</p>
</li>
<li>
<p>✅ Comprehensive converter architecture implemented</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_commands_implemented">20. Commands Implemented</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_from_posix">20.1. <code>from posix</code></h3>
<div class="paragraph">
<p>Converts POSIX shell script to Nushell syntax.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Flags: <code>--pretty</code>, <code>--file</code></p>
</li>
<li>
<p>Input: String (POSIX script)</p>
</li>
<li>
<p>Output: String (Nushell script)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_to_posix">20.2. <code>to posix</code></h3>
<div class="paragraph">
<p>Converts Nushell syntax to POSIX shell script (basic implementation).</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Input: String (Nushell script)</p>
</li>
<li>
<p>Output: String (POSIX script)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_parse_posix">20.3. <code>parse posix</code></h3>
<div class="paragraph">
<p>Parses POSIX shell script and returns AST as structured data.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Input: String (POSIX script)</p>
</li>
<li>
<p>Output: Record (AST structure)</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_testing_results">21. Testing Results</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Test suite expanded to 61 tests:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Parser tests: 13/13 ✅</p>
</li>
<li>
<p>Builtin converter tests: 18/18 ✅ (9 builtins × 2 test categories)</p>
</li>
<li>
<p>SUS converter tests: 26/26 ✅ (13 converters × 2 test categories)</p>
</li>
<li>
<p>Registry system tests: 4/4 ✅</p>
</li>
<li>
<p>Some integration tests need updates for new architecture</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Test coverage includes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>POSIX script parsing with yash-syntax</p>
</li>
<li>
<p>Heuristic fallback parsing</p>
</li>
<li>
<p>All shell builtin conversions</p>
</li>
<li>
<p>All implemented SUS utility conversions</p>
</li>
<li>
<p>Command registry routing</p>
</li>
<li>
<p>Argument quoting and flag handling</p>
</li>
<li>
<p>Complex command patterns</p>
</li>
<li>
<p>Error handling and edge cases</p>
</li>
<li>
<p>Legacy conversion tests (need migration)</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_known_issues">22. Known Issues</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Plugin Registration</strong>: ✅ Successfully resolved - plugin now works with Nu 0.105</p>
</li>
<li>
<p><strong>Parser Architecture</strong>: ✅ Full yash-syntax integration with heuristic fallback</p>
</li>
<li>
<p><strong>Test Updates</strong>: Some tests need updates to match new converter behavior</p>
</li>
<li>
<p><strong>Conversion Coverage</strong>: 36 commands total (9 builtins + 27 SUS utilities + 4 legacy)</p>
</li>
<li>
<p><strong>Architecture Migration</strong>: Command routing uses registry system, 4 legacy commands need migration</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_legacy_migration_tasks">23. Legacy Migration Tasks</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_completed_migrations">23.1. ✅ Completed Migrations</h3>
<div class="paragraph">
<p>The following commands have been successfully migrated from legacy converter to proper SUS implementations:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong><code>sort</code></strong> - ✅ Migrated to <code>nu-posix/src/plugin/sus/sort.rs</code></p>
<div class="ulist">
<ul>
<li>
<p>Comprehensive flag support: <code>-r</code>, <code>-n</code>, <code>-u</code>, <code>-f</code>, <code>-k</code>, <code>-t</code>, <code>-o</code></p>
</li>
<li>
<p>Handles numeric sorting, field sorting, output redirection</p>
</li>
<li>
<p>Combined flag support (e.g., <code>-ru</code>)</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong><code>uniq</code></strong> - ✅ Migrated to <code>nu-posix/src/plugin/sus/uniq.rs</code></p>
<div class="ulist">
<ul>
<li>
<p>Flag support: <code>-c</code>, <code>-d</code>, <code>-u</code>, <code>-i</code>, <code>-f</code>, <code>-s</code></p>
</li>
<li>
<p>Count occurrences, duplicates-only, unique-only filtering</p>
</li>
<li>
<p>Input/output file handling</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong><code>rmdir</code></strong> - ✅ Migrated to <code>nu-posix/src/plugin/sus/rmdir.rs</code></p>
<div class="ulist">
<ul>
<li>
<p>Flag support: <code>-p</code>, <code>-v</code>, <code>--ignore-fail-on-non-empty</code></p>
</li>
<li>
<p>Converts to Nu&#8217;s <code>rm</code> command with appropriate flags</p>
</li>
<li>
<p>Includes behavioral notes about empty directory requirement</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong><code>chmod</code></strong> - ✅ Migrated to <code>nu-posix/src/plugin/sus/chmod.rs</code></p>
<div class="ulist">
<ul>
<li>
<p>Flag support: <code>-R</code>, <code>-v</code>, <code>-f</code>, <code>-c</code>, <code>--reference</code></p>
</li>
<li>
<p>Handles octal and symbolic modes</p>
</li>
<li>
<p>Reference file copying support</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong><code>chown</code></strong> - ✅ Migrated to <code>nu-posix/src/plugin/sus/chown.rs</code></p>
<div class="ulist">
<ul>
<li>
<p>Flag support: <code>-R</code>, <code>-v</code>, <code>-f</code>, <code>-c</code>, <code>--reference</code></p>
</li>
<li>
<p>User:group notation support</p>
</li>
<li>
<p>Reference file copying support</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_recently_completed_migrations">23.2. ✅ Recently Completed Migrations</h3>
<div class="paragraph">
<p>The following commands have been successfully migrated:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong><code>awk</code></strong> - ✅ Migrated to <code>nu-posix/src/plugin/sus/awk.rs</code></p>
<div class="ulist">
<ul>
<li>
<p>External command approach with proper argument handling</p>
</li>
<li>
<p>Full AWK compatibility through <code>^awk</code> execution</p>
</li>
<li>
<p>Comprehensive testing including complex patterns and scripts</p>
</li>
<li>
<p>Proper integration with command registry system</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_️_remaining_commands_to_migrate">23.3. ⚠️ Remaining Commands to Migrate</h3>
<div class="paragraph">
<p>The following commands still need to be migrated from legacy converter:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong><code>which</code></strong> - Currently simple passthrough, needs proper SUS implementation</p>
<div class="ulist">
<ul>
<li>
<p>Priority: Low (utility lookup)</p>
</li>
<li>
<p>Implementation: <code>nu-posix/src/plugin/sus/which.rs</code></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong><code>whoami</code></strong> - Currently simple passthrough, needs proper SUS implementation</p>
<div class="ulist">
<ul>
<li>
<p>Priority: Low (user identification)</p>
</li>
<li>
<p>Implementation: <code>nu-posix/src/plugin/sus/whoami.rs</code></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong><code>ps</code></strong> - Currently simple passthrough, needs proper SUS implementation</p>
<div class="ulist">
<ul>
<li>
<p>Priority: Low (process listing)</p>
</li>
<li>
<p>Implementation: <code>nu-posix/src/plugin/sus/ps.rs</code></p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_migration_process">23.4. Migration Process</h3>
<div class="paragraph">
<p>For each legacy command:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create new SUS converter file following existing patterns</p>
</li>
<li>
<p>Implement proper flag handling and Nu equivalent mapping</p>
</li>
<li>
<p>Add comprehensive tests (basic and complex scenarios)</p>
</li>
<li>
<p>Update <code>CommandRegistry</code> in <code>sus/mod.rs</code> to include new converter</p>
</li>
<li>
<p>Remove legacy conversion from <code>converter.rs</code></p>
</li>
<li>
<p>Update documentation and test coverage</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_next_steps">24. Next Steps</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_immediate_priority_1">24.1. Immediate (Priority 1)</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>✅ Fixed Nushell version compatibility (now supports 0.105)</p>
</li>
<li>
<p>✅ Implemented comprehensive builtin/SUS architecture separation</p>
</li>
<li>
<p>✅ Added 27 command converters with full flag support</p>
</li>
<li>
<p>✅ <strong>Migrated 6 legacy conversions to SUS registry (sort, uniq, rmdir, chmod, chown, awk)</strong></p>
</li>
<li>
<p><strong>Complete remaining legacy migrations (3 commands: which, whoami, ps)</strong></p>
</li>
<li>
<p>Update tests to match new converter behavior</p>
</li>
<li>
<p>Improve error handling and user feedback</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_short_term_priority_2">24.2. Short-term (Priority 2)</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>✅ Complete full yash-syntax integration with heuristic fallback</p>
</li>
<li>
<p>Add remaining POSIX commands and builtins</p>
</li>
<li>
<p>Implement better variable expansion handling</p>
</li>
<li>
<p>Add more complex control structure support</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_long_term_priority_3">24.3. Long-term (Priority 3)</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add interactive CLI mode</p>
</li>
<li>
<p>Support for complex shell constructs</p>
</li>
<li>
<p>Configuration system for conversion preferences</p>
</li>
<li>
<p>Integration with Nu package manager</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_development_environment">25. Development Environment</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><strong>Language</strong>: Rust (edition 2021)</p>
</li>
<li>
<p><strong>Build System</strong>: Cargo + Pixi</p>
</li>
<li>
<p><strong>Target</strong>: Nushell plugin ecosystem</p>
</li>
<li>
<p><strong>Testing</strong>: Built-in Rust test framework</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_documentation">26. Documentation</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>✅ Comprehensive README.adoc</p>
</li>
<li>
<p>✅ Inline code documentation</p>
</li>
<li>
<p>✅ Example scripts</p>
</li>
<li>
<p>✅ Usage instructions</p>
</li>
<li>
<p>✅ API documentation</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conclusion_2">27. Conclusion</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>nu-posix</code> project successfully demonstrates a working Nushell plugin for POSIX shell script conversion.
The implementation now features a sophisticated dual-parser architecture with yash-syntax integration and
comprehensive command conversion covering both shell builtins and external utilities.</p>
</div>
<div class="paragraph">
<p>Key achievements:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>✅ <strong>Architecture</strong>: Proper separation of shell builtins from external utilities</p>
</li>
<li>
<p>✅ <strong>Parser</strong>: Full yash-syntax integration with heuristic fallback</p>
</li>
<li>
<p>✅ <strong>Coverage</strong>: 37 commands total (28 SUS + 9 builtins + 3 legacy)</p>
</li>
<li>
<p>✅ <strong>Testing</strong>: Extensive test suite with 73 tests covering all converters</p>
</li>
<li>
<p>✅ <strong>Registry</strong>: Extensible system for managing command converters</p>
</li>
<li>
<p>✅ <strong>Migration</strong>: 6 legacy commands migrated to SUS registry (sort, uniq, rmdir, chmod, chown, awk)</p>
</li>
<li>
<p>⚠️ <strong>Remaining</strong>: 3 legacy commands need migration to SUS registry</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The project is ready for:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Production usage with comprehensive command coverage</p>
</li>
<li>
<p>Community feedback and contributions</p>
</li>
<li>
<p>Integration with additional POSIX parsing libraries</p>
</li>
<li>
<p>Extension with more advanced shell features</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Current priorities:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>✅ <strong>Migration Tasks</strong>: 6 legacy commands migrated (sort, uniq, rmdir, chmod, chown, awk)</p>
</li>
<li>
<p><strong>Complete Migration</strong>: 3 remaining legacy commands (which, whoami, ps)</p>
</li>
<li>
<p><strong>Architecture Cleanup</strong>: Remove hardcoded conversions in favor of registry system</p>
</li>
<li>
<p><strong>Test Updates</strong>: Align tests with new converter behavior</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Status</strong>: ✅ <strong>Production Ready</strong> - Comprehensive functionality with proper architecture
<strong>Next Phase</strong>: 🔄 <strong>Legacy Migration</strong> - Clean up remaining hardcoded conversions</p>
</div>
</div>
</div>
<h1 id="architecture-overview" class="sect0">Architecture Overview</h1>
<div class="sect1">
<h2 id="_introduction">28. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The nu-posix plugin employs a sophisticated multi-layered architecture designed to handle the complexities of POSIX shell script conversion while maintaining extensibility and reliability. This chapter provides a comprehensive overview of the system&#8217;s design principles, component relationships, and data flow patterns.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_design_principles">29. Design Principles</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_modularity">29.1. Modularity</h3>
<div class="paragraph">
<p>The architecture is built around discrete, interchangeable components that can be developed, tested, and maintained independently:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Parser Layer</strong>: Handles POSIX script parsing with multiple backend options</p>
</li>
<li>
<p><strong>Converter Layer</strong>: Transforms parsed constructs into Nushell equivalents</p>
</li>
<li>
<p><strong>Registry Layer</strong>: Routes commands to appropriate converters</p>
</li>
<li>
<p><strong>Output Layer</strong>: Formats and validates generated Nushell code</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_extensibility">29.2. Extensibility</h3>
<div class="paragraph">
<p>The system supports easy addition of new converters and parsing backends:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Plugin Architecture</strong>: Standard Nushell plugin integration</p>
</li>
<li>
<p><strong>Registry System</strong>: Dynamic command converter registration</p>
</li>
<li>
<p><strong>Trait-based Design</strong>: Consistent interfaces for all components</p>
</li>
<li>
<p><strong>Fallback Mechanisms</strong>: Graceful degradation when specialized converters are unavailable</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_reliability">29.3. Reliability</h3>
<div class="paragraph">
<p>Multiple layers of error handling and validation ensure robust operation:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Dual Parser Strategy</strong>: Primary parser with heuristic fallback</p>
</li>
<li>
<p><strong>Comprehensive Testing</strong>: Extensive test coverage for all components</p>
</li>
<li>
<p><strong>Error Propagation</strong>: Clear error messages and recovery strategies</p>
</li>
<li>
<p><strong>Validation Framework</strong>: Continuous verification of converter correctness</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_system_architecture">30. System Architecture</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_high_level_overview">30.1. High-Level Overview</h3>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>┌─────────────────────────────────────────────────────────┐
│                    Nu-POSIX Plugin                      │
├─────────────────────────────────────────────────────────┤
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐     │
│  │   Parser    │  │  Converter  │  │   Output    │     │
│  │   Layer     │→ │    Layer    │→ │   Layer     │     │
│  └─────────────┘  └─────────────┘  └─────────────┘     │
│         │                 │                             │
│  ┌─────────────┐  ┌─────────────┐                      │
│  │    AST      │  │  Registry   │                      │
│  │ Generation  │  │   System    │                      │
│  └─────────────┘  └─────────────┘                      │
└─────────────────────────────────────────────────────────┘</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_component_interaction">30.2. Component Interaction</h3>
<div class="paragraph">
<p>The system processes POSIX scripts through a well-defined pipeline:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Input Processing</strong>: Raw POSIX script text is received</p>
</li>
<li>
<p><strong>Parsing</strong>: Script is parsed into an Abstract Syntax Tree (AST)</p>
</li>
<li>
<p><strong>Conversion</strong>: AST nodes are converted to Nushell syntax</p>
</li>
<li>
<p><strong>Registry Lookup</strong>: Commands are routed to appropriate converters</p>
</li>
<li>
<p><strong>Output Generation</strong>: Final Nushell code is formatted and returned</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_parser_layer">31. Parser Layer</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_dual_parser_architecture">31.1. Dual Parser Architecture</h3>
<div class="paragraph">
<p>The parser layer employs a sophisticated dual-parser strategy:</p>
</div>
<div class="sect3">
<h4 id="_primary_parser_yash_syntax">31.1.1. Primary Parser: yash-syntax</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Purpose</strong>: Provides comprehensive POSIX shell parsing</p>
</li>
<li>
<p><strong>Capabilities</strong>: Handles complex shell constructs, syntax validation, and AST generation</p>
</li>
<li>
<p><strong>Implementation</strong>: Integration with the <code>yash-syntax</code> crate</p>
</li>
<li>
<p><strong>Coverage</strong>: Complete POSIX shell language support</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_secondary_parser_heuristic">31.1.2. Secondary Parser: Heuristic</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Purpose</strong>: Fallback for cases where yash-syntax fails</p>
</li>
<li>
<p><strong>Capabilities</strong>: Basic command parsing, simple pipelines, and common constructs</p>
</li>
<li>
<p><strong>Implementation</strong>: Custom pattern-based parsing</p>
</li>
<li>
<p><strong>Coverage</strong>: Common shell script patterns and basic syntax</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_parser_selection_logic">31.2. Parser Selection Logic</h3>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="rust">pub fn parse_posix_script(input: &amp;str) -&gt; Result&lt;PosixScript&gt; {
    // Attempt primary parser first
    match parse_with_yash_syntax(input) {
        Ok(script) =&gt; Ok(script),
        Err(_) =&gt; {
            // Fall back to heuristic parser
            parse_with_heuristic(input)
        }
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_ast_generation">31.3. AST Generation</h3>
<div class="paragraph">
<p>The parser layer generates a structured AST that represents the parsed script:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Commands</strong>: Simple and compound commands with arguments</p>
</li>
<li>
<p><strong>Pipelines</strong>: Command sequences with pipe operators</p>
</li>
<li>
<p><strong>Control Flow</strong>: If statements, loops, and conditional structures</p>
</li>
<li>
<p><strong>Variables</strong>: Assignment and expansion operations</p>
</li>
<li>
<p><strong>Operators</strong>: Logical, arithmetic, and comparison operations</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_converter_layer">32. Converter Layer</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_conversion_architecture">32.1. Conversion Architecture</h3>
<div class="paragraph">
<p>The converter layer transforms AST nodes into equivalent Nushell constructs:</p>
</div>
<div class="sect3">
<h4 id="_posixtonuconverter">32.1.1. PosixToNuConverter</h4>
<div class="paragraph">
<p>The main converter coordinates the transformation process:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="rust">pub struct PosixToNuConverter {
    builtin_registry: BuiltinRegistry,
    sus_registry: CommandRegistry,
}

impl PosixToNuConverter {
    pub fn convert(&amp;self, script: &amp;PosixScript) -&gt; Result&lt;String&gt; {
        // Process each command in the script
        // Route to appropriate converter based on command type
        // Generate Nushell equivalent syntax
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_command_routing">32.1.2. Command Routing</h4>
<div class="paragraph">
<p>Commands are routed through a hierarchical system:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Builtin Registry</strong>: POSIX shell built-in commands (cd, echo, test, etc.)</p>
</li>
<li>
<p><strong>SUS Registry</strong>: Single Unix Specification utilities (ls, grep, cat, etc.)</p>
</li>
<li>
<p><strong>Fallback</strong>: Generic external command handling</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_conversion_strategies">32.2. Conversion Strategies</h3>
<div class="sect3">
<h4 id="_direct_translation">32.2.1. Direct Translation</h4>
<div class="paragraph">
<p>Some commands have direct Nushell equivalents:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ls</code> → <code>ls</code> (with flag mapping)</p>
</li>
<li>
<p><code>cd</code> → <code>cd</code> (with path processing)</p>
</li>
<li>
<p><code>echo</code> → <code>print</code> (with argument handling)</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_functional_transformation">32.2.2. Functional Transformation</h4>
<div class="paragraph">
<p>Complex operations are transformed to Nushell&#8217;s functional style:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>grep pattern file</code> → <code>open file | lines | where $it =~ pattern</code></p>
</li>
<li>
<p><code>head -n 10 file</code> → <code>open file | lines | first 10</code></p>
</li>
<li>
<p><code>sort file</code> → <code>open file | lines | sort</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_external_command_delegation">32.2.3. External Command Delegation</h4>
<div class="paragraph">
<p>Some commands are best handled as external commands:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>awk</code> → <code>^awk</code> (with argument quoting)</p>
</li>
<li>
<p><code>sed</code> → Mixed approach (simple cases translated, complex cases external)</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_registry_system">33. Registry System</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_command_registration">33.1. Command Registration</h3>
<div class="paragraph">
<p>The registry system manages converter routing and lookup:</p>
</div>
<div class="sect3">
<h4 id="_builtin_registry">33.1.1. Builtin Registry</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="rust">pub struct BuiltinRegistry {
    converters: HashMap&lt;String, Box&lt;dyn BuiltinConverter&gt;&gt;,
}

impl BuiltinRegistry {
    pub fn new() -&gt; Self {
        let mut registry = Self::default();
        registry.register("cd", Box::new(CdConverter));
        registry.register("echo", Box::new(EchoConverter));
        // ... other builtins
        registry
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_sus_registry">33.1.2. SUS Registry</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="rust">pub struct CommandRegistry {
    converters: Vec&lt;Box&lt;dyn CommandConverter&gt;&gt;,
}

impl CommandRegistry {
    pub fn new() -&gt; Self {
        let mut registry = Self::default();
        registry.register(Box::new(LsConverter));
        registry.register(Box::new(GrepConverter));
        // ... other SUS commands
        registry
    }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_converter_traits">33.2. Converter Traits</h3>
<div class="paragraph">
<p>All converters implement standardized traits:</p>
</div>
<div class="sect3">
<h4 id="_builtinconverter">33.2.1. BuiltinConverter</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="rust">pub trait BuiltinConverter {
    fn convert(&amp;self, args: &amp;[String]) -&gt; Result&lt;String&gt;;
    fn command_name(&amp;self) -&gt; &amp;'static str;
    fn description(&amp;self) -&gt; &amp;'static str;
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_commandconverter">33.2.2. CommandConverter</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="rust">pub trait CommandConverter {
    fn convert(&amp;self, args: &amp;[String]) -&gt; Result&lt;String&gt;;
    fn command_name(&amp;self) -&gt; &amp;'static str;
    fn description(&amp;self) -&gt; &amp;'static str;
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_registry_lookup_process">33.3. Registry Lookup Process</h3>
<div class="paragraph">
<p>Command resolution follows a specific priority order:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Builtin Check</strong>: Search builtin registry first</p>
</li>
<li>
<p><strong>SUS Check</strong>: Search SUS registry second</p>
</li>
<li>
<p><strong>Fallback</strong>: Generic external command handling</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_data_flow">34. Data Flow</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_processing_pipeline">34.1. Processing Pipeline</h3>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>Input Script → Parser → AST → Converter → Registry → Output
     ↓           ↓      ↓        ↓          ↓        ↓
  "ls -la"   → Parse → List → Convert → Lookup → "ls -la"</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_error_handling_flow">34.2. Error Handling Flow</h3>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>Parser Error → Fallback Parser → Continue
     ↓
Converter Error → Generic Handling → Continue
     ↓
Registry Miss → External Command → Continue
     ↓
Fatal Error → Error Propagation → User Message</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_plugin_integration">35. Plugin Integration</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_nushell_plugin_framework">35.1. Nushell Plugin Framework</h3>
<div class="paragraph">
<p>The nu-posix plugin integrates with Nushell&#8217;s plugin system:</p>
</div>
<div class="sect3">
<h4 id="_plugin_structure">35.1.1. Plugin Structure</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="rust">#[derive(Default)]
pub struct NuPosixPlugin;

impl Plugin for NuPosixPlugin {
    fn version(&amp;self) -&gt; String {
        env!("CARGO_PKG_VERSION").into()
    }

    fn commands(&amp;self) -&gt; Vec&lt;Box&lt;dyn PluginCommand&lt;Plugin = Self&gt;&gt;&gt; {
        vec![
            Box::new(FromPosix),
            Box::new(ToPosix),
            Box::new(ParsePosix),
        ]
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_command_implementation">35.1.2. Command Implementation</h4>
<div class="paragraph">
<p>Each plugin command implements the <code>PluginCommand</code> trait:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="rust">impl PluginCommand for FromPosix {
    type Plugin = NuPosixPlugin;

    fn name(&amp;self) -&gt; &amp;str {
        "from posix"
    }

    fn signature(&amp;self) -&gt; Signature {
        Signature::build("from posix")
            .switch("pretty", "Pretty print the output", Some('p'))
            .named("file", SyntaxShape::Filepath, "Input file path", Some('f'))
    }

    fn run(&amp;self, plugin: &amp;Self::Plugin, engine: &amp;EngineInterface, call: &amp;EvaluatedCall, input: PipelineData) -&gt; Result&lt;PipelineData, LabeledError&gt; {
        // Implementation
    }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_command_interfaces">35.2. Command Interfaces</h3>
<div class="sect3">
<h4 id="_from_posix_2">35.2.1. from posix</h4>
<div class="paragraph">
<p>Converts POSIX shell scripts to Nushell syntax:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Input</strong>: String (POSIX script)</p>
</li>
<li>
<p><strong>Output</strong>: String (Nushell code)</p>
</li>
<li>
<p><strong>Flags</strong>: <code>--pretty</code>, <code>--file</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_to_posix_2">35.2.2. to posix</h4>
<div class="paragraph">
<p>Converts Nushell syntax to POSIX shell scripts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Input</strong>: String (Nushell code)</p>
</li>
<li>
<p><strong>Output</strong>: String (POSIX script)</p>
</li>
<li>
<p><strong>Flags</strong>: Basic implementation</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_parse_posix_2">35.2.3. parse posix</h4>
<div class="paragraph">
<p>Parses POSIX scripts and returns structured AST:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Input</strong>: String (POSIX script)</p>
</li>
<li>
<p><strong>Output</strong>: Record (AST structure)</p>
</li>
<li>
<p><strong>Flags</strong>: Debug and analysis options</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_error_handling">36. Error Handling</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_error_types">36.1. Error Types</h3>
<div class="paragraph">
<p>The system defines specific error types for different failure modes:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="rust">#[derive(Debug, thiserror::Error)]
pub enum ConversionError {
    #[error("Parse error: {0}")]
    ParseError(String),

    #[error("Conversion error: {0}")]
    ConversionError(String),

    #[error("Registry error: {0}")]
    RegistryError(String),
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_error_recovery">36.2. Error Recovery</h3>
<div class="paragraph">
<p>The system implements multiple levels of error recovery:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Parser Fallback</strong>: Switch to heuristic parser on yash-syntax failure</p>
</li>
<li>
<p><strong>Converter Fallback</strong>: Use generic external command handling</p>
</li>
<li>
<p><strong>Graceful Degradation</strong>: Provide partial results when possible</p>
</li>
<li>
<p><strong>User Feedback</strong>: Clear error messages with suggestions</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_performance_considerations">37. Performance Considerations</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_optimization_strategies">37.1. Optimization Strategies</h3>
<div class="sect3">
<h4 id="_caching">37.1.1. Caching</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Parser Cache</strong>: Reuse parsed ASTs for repeated conversions</p>
</li>
<li>
<p><strong>Registry Cache</strong>: Cache converter lookups for frequently used commands</p>
</li>
<li>
<p><strong>Output Cache</strong>: Cache generated Nushell code for identical inputs</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_lazy_loading">37.1.2. Lazy Loading</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Converter Registration</strong>: Register converters on first use</p>
</li>
<li>
<p><strong>Module Loading</strong>: Load parser modules only when needed</p>
</li>
<li>
<p><strong>Resource Management</strong>: Minimize memory usage for large scripts</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_scalability">37.2. Scalability</h3>
<div class="paragraph">
<p>The architecture supports processing of large script collections:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Streaming Processing</strong>: Handle large files without loading entirely into memory</p>
</li>
<li>
<p><strong>Parallel Processing</strong>: Process multiple scripts concurrently</p>
</li>
<li>
<p><strong>Batch Operations</strong>: Optimize for bulk conversion scenarios</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_testing_architecture">38. Testing Architecture</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_test_organization">38.1. Test Organization</h3>
<div class="paragraph">
<p>The testing framework mirrors the modular architecture:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Unit Tests</strong>: Individual converter and parser tests</p>
</li>
<li>
<p><strong>Integration Tests</strong>: Full pipeline testing</p>
</li>
<li>
<p><strong>Regression Tests</strong>: Prevent functionality degradation</p>
</li>
<li>
<p><strong>Performance Tests</strong>: Validate conversion speed and resource usage</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_test_categories">38.2. Test Categories</h3>
<div class="sect3">
<h4 id="_parser_tests">38.2.1. Parser Tests</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Syntax Validation</strong>: Ensure correct AST generation</p>
</li>
<li>
<p><strong>Error Handling</strong>: Verify graceful failure modes</p>
</li>
<li>
<p><strong>Fallback Testing</strong>: Confirm heuristic parser operation</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_converter_tests">38.2.2. Converter Tests</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Command Accuracy</strong>: Verify correct Nushell generation</p>
</li>
<li>
<p><strong>Flag Handling</strong>: Test all supported command flags</p>
</li>
<li>
<p><strong>Edge Cases</strong>: Handle unusual input scenarios</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_registry_tests">38.2.3. Registry Tests</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Command Routing</strong>: Ensure correct converter selection</p>
</li>
<li>
<p><strong>Priority Handling</strong>: Verify builtin vs SUS precedence</p>
</li>
<li>
<p><strong>Error Propagation</strong>: Test failure handling</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_future_architecture_considerations">39. Future Architecture Considerations</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_planned_enhancements">39.1. Planned Enhancements</h3>
<div class="sect3">
<h4 id="_performance_improvements">39.1.1. Performance Improvements</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Incremental Parsing</strong>: Parse only changed script sections</p>
</li>
<li>
<p><strong>Compiled Converters</strong>: Pre-compile frequently used conversion patterns</p>
</li>
<li>
<p><strong>Memory Optimization</strong>: Reduce memory footprint for large scripts</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_feature_extensions">39.1.2. Feature Extensions</h4>
<div class="ulist">
<ul>
<li>
<p><strong>Plugin Converters</strong>: Allow third-party converter plugins</p>
</li>
<li>
<p><strong>Custom Dialects</strong>: Support for bash, zsh, and other shell variants</p>
</li>
<li>
<p><strong>Interactive Mode</strong>: Real-time conversion with user feedback</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_integration_improvements">39.1.3. Integration Improvements</h4>
<div class="ulist">
<ul>
<li>
<p><strong>IDE Integration</strong>: Language server protocol support</p>
</li>
<li>
<p><strong>CI/CD Integration</strong>: Automated script conversion in deployment pipelines</p>
</li>
<li>
<p><strong>Documentation Generation</strong>: Automatic migration guides</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conclusion_3">40. Conclusion</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The nu-posix architecture provides a robust, extensible foundation for POSIX shell script conversion. Its modular design enables independent development of components while maintaining system coherence. The dual parser strategy ensures broad compatibility, while the registry system provides flexibility for handling diverse command types.</p>
</div>
<div class="paragraph">
<p>The architecture&#8217;s emphasis on error handling, testing, and performance makes it suitable for production use while maintaining the extensibility needed for future enhancements. This design serves as a solid foundation for bridging the gap between traditional POSIX shells and modern Nushell environments.</p>
</div>
</div>
</div>
<h1 id="chapter-14" class="sect0">Chapter 14: Command Reference</h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p>This chapter provides a comprehensive reference for all commands supported by the nu-posix plugin, organized by category with detailed conversion examples and usage patterns.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_plugin_commands">41. Plugin Commands</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_from_posix_3">41.1. from posix</h3>
<div class="paragraph">
<p>Converts POSIX shell scripts to Nushell syntax.</p>
</div>
<div class="sect3">
<h4 id="_syntax">41.1.1. Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">&lt;string&gt; | from posix</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_examples">41.1.2. Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Simple command
"echo hello" | from posix
# Output: print "hello"

# Pipeline
"ls | grep txt" | from posix
# Output: ls | lines | where ($it =~ "txt")

# Complex script
"for i in 1 2 3; do echo $i; done" | from posix
# Output: for i in [1 2 3] { print $i }</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_to_posix_3">41.2. to posix</h3>
<div class="paragraph">
<p>Converts Nushell scripts to POSIX shell syntax (basic implementation).</p>
</div>
<div class="sect3">
<h4 id="_syntax_2">41.2.1. Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">&lt;string&gt; | to posix</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_examples_2">41.2.2. Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Simple command
"print hello" | to posix
# Output: echo hello

# Basic pipeline
"ls | length" | to posix
# Output: ls | wc -l</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_parse_posix_3">41.3. parse posix</h3>
<div class="paragraph">
<p>Parses POSIX shell scripts and returns the AST structure.</p>
</div>
<div class="sect3">
<h4 id="_syntax_3">41.3.1. Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">&lt;string&gt; | parse posix</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_examples_3">41.3.2. Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Simple command
"echo hello" | parse posix
# Output: { commands: [{ type: "simple", name: "echo", args: ["hello"] }] }

# Compound command
"if test -f file; then echo exists; fi" | parse posix
# Output: { commands: [{ type: "compound", kind: "if", ... }] }</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_builtin_commands">42. Builtin Commands</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_echo">42.1. echo</h3>
<div class="paragraph">
<p>Displays text to stdout.</p>
</div>
<div class="sect3">
<h4 id="_posix_syntax">42.1.1. POSIX Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">echo [options] [string...]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_supported_options">42.1.2. Supported Options</h4>
<div class="ulist">
<ul>
<li>
<p><code>-n</code>: Do not output trailing newline</p>
</li>
<li>
<p><code>-e</code>: Enable interpretation of backslash escapes</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_nushell_conversion">42.1.3. Nushell Conversion</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">print [options] [string...]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_examples_4">42.1.4. Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Basic echo
"echo hello world" | from posix
# Output: print "hello world"

# No newline
"echo -n hello" | from posix
# Output: print -n "hello"

# With escapes
"echo -e 'line1\nline2'" | from posix
# Output: print "line1\nline2"</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_cd">42.2. cd</h3>
<div class="paragraph">
<p>Changes the current directory.</p>
</div>
<div class="sect3">
<h4 id="_posix_syntax_2">42.2.1. POSIX Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">cd [directory]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_nushell_conversion_2">42.2.2. Nushell Conversion</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">cd [directory]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_examples_5">42.2.3. Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Change to directory
"cd /home/user" | from posix
# Output: cd /home/user

# Change to home
"cd" | from posix
# Output: cd

# Go up one level
"cd .." | from posix
# Output: cd ..</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_test">42.3. test / [</h3>
<div class="paragraph">
<p>Tests file attributes and compares values.</p>
</div>
<div class="sect3">
<h4 id="_posix_syntax_3">42.3.1. POSIX Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">test expression
[ expression ]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_supported_tests">42.3.2. Supported Tests</h4>
<div class="ulist">
<ul>
<li>
<p><code>-f file</code>: True if file exists and is regular file</p>
</li>
<li>
<p><code>-d file</code>: True if file exists and is directory</p>
</li>
<li>
<p><code>-e file</code>: True if file exists</p>
</li>
<li>
<p><code>-r file</code>: True if file is readable</p>
</li>
<li>
<p><code>-w file</code>: True if file is writable</p>
</li>
<li>
<p><code>-x file</code>: True if file is executable</p>
</li>
<li>
<p><code>-s file</code>: True if file exists and has size &gt; 0</p>
</li>
<li>
<p><code>string1 = string2</code>: True if strings are equal</p>
</li>
<li>
<p><code>string1 != string2</code>: True if strings are not equal</p>
</li>
<li>
<p><code>num1 -eq num2</code>: True if numbers are equal</p>
</li>
<li>
<p><code>num1 -ne num2</code>: True if numbers are not equal</p>
</li>
<li>
<p><code>num1 -lt num2</code>: True if num1 &lt; num2</p>
</li>
<li>
<p><code>num1 -le num2</code>: True if num1 &#8656; num2</p>
</li>
<li>
<p><code>num1 -gt num2</code>: True if num1 &gt; num2</p>
</li>
<li>
<p><code>num1 -ge num2</code>: True if num1 &gt;= num2</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_nushell_conversion_3">42.3.3. Nushell Conversion</h4>
<div class="paragraph">
<p>Uses path operations and comparison operators.</p>
</div>
</div>
<div class="sect3">
<h4 id="_examples_6">42.3.4. Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># File exists test
"test -f file.txt" | from posix
# Output: ("file.txt" | path exists) and (("file.txt" | path type) == "file")

# Directory test
"test -d /tmp" | from posix
# Output: ("/tmp" | path exists) and (("/tmp" | path type) == "dir")

# String comparison
"test '$var' = 'value'" | from posix
# Output: $var == "value"

# Numeric comparison
"test $num -gt 10" | from posix
# Output: ($num | into int) &gt; (10 | into int)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_pwd">42.4. pwd</h3>
<div class="paragraph">
<p>Prints the current working directory.</p>
</div>
<div class="sect3">
<h4 id="_posix_syntax_4">42.4.1. POSIX Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">pwd [-L|-P]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_nushell_conversion_4">42.4.2. Nushell Conversion</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">pwd</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_examples_7">42.4.3. Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Print working directory
"pwd" | from posix
# Output: pwd</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_exit">42.5. exit</h3>
<div class="paragraph">
<p>Exits the shell with optional exit code.</p>
</div>
<div class="sect3">
<h4 id="_posix_syntax_5">42.5.1. POSIX Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">exit [n]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_nushell_conversion_5">42.5.2. Nushell Conversion</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">exit [n]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_examples_8">42.5.3. Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Exit with success
"exit 0" | from posix
# Output: exit 0

# Exit with last command status
"exit $?" | from posix
# Output: exit $env.LAST_EXIT_CODE</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_export">42.6. export</h3>
<div class="paragraph">
<p>Sets environment variables.</p>
</div>
<div class="sect3">
<h4 id="_posix_syntax_6">42.6.1. POSIX Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">export [name[=value]...]
export -n name...</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_nushell_conversion_6">42.6.2. Nushell Conversion</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">$env.NAME = value</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_examples_9">42.6.3. Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Export variable
"export PATH=/usr/bin:$PATH" | from posix
# Output: $env.PATH = "/usr/bin:$PATH"

# Export existing variable
"export EDITOR" | from posix
# Output: $env.EDITOR = $EDITOR</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_unset">42.7. unset</h3>
<div class="paragraph">
<p>Removes variables and functions.</p>
</div>
<div class="sect3">
<h4 id="_posix_syntax_7">42.7.1. POSIX Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">unset [-f|-v] name...</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_nushell_conversion_7">42.7.2. Nushell Conversion</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">hide name</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_examples_10">42.7.3. Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Unset variable
"unset VAR" | from posix
# Output: hide VAR

# Unset function (limited support)
"unset -f function_name" | from posix
# Output: # Cannot unset function 'function_name' in Nu</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_alias">42.8. alias</h3>
<div class="paragraph">
<p>Creates command aliases.</p>
</div>
<div class="sect3">
<h4 id="_posix_syntax_8">42.8.1. POSIX Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">alias [name[=value]...]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_nushell_conversion_8">42.8.2. Nushell Conversion</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">alias name = value</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_examples_11">42.8.3. Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Create alias
"alias ll='ls -l'" | from posix
# Output: alias ll = ls -l

# List aliases
"alias" | from posix
# Output: alias</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_source">42.9. source / .</h3>
<div class="paragraph">
<p>Executes commands from a file.</p>
</div>
<div class="sect3">
<h4 id="_posix_syntax_9">42.9.1. POSIX Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">source filename
. filename</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_nushell_conversion_9">42.9.2. Nushell Conversion</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">source filename</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_examples_12">42.9.3. Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Source script
"source script.sh" | from posix
# Output: source script.sh

# Dot notation
". /etc/profile" | from posix
# Output: source /etc/profile</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_file_operations">43. File Operations</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_ls">43.1. ls</h3>
<div class="paragraph">
<p>Lists directory contents.</p>
</div>
<div class="sect3">
<h4 id="_posix_syntax_10">43.1.1. POSIX Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">ls [options] [file...]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_supported_options_2">43.1.2. Supported Options</h4>
<div class="ulist">
<ul>
<li>
<p><code>-l</code>: Long format</p>
</li>
<li>
<p><code>-a</code>: Show hidden files</p>
</li>
<li>
<p><code>-h</code>: Human-readable sizes</p>
</li>
<li>
<p><code>-t</code>: Sort by time</p>
</li>
<li>
<p><code>-r</code>: Reverse order</p>
</li>
<li>
<p><code>-R</code>: Recursive</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_nushell_conversion_10">43.1.3. Nushell Conversion</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">ls [options] [file...]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_examples_13">43.1.4. Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Basic listing
"ls" | from posix
# Output: ls

# Long format
"ls -l" | from posix
# Output: ls -l

# All files
"ls -la" | from posix
# Output: ls -la

# Specific pattern
"ls *.txt" | from posix
# Output: ls *.txt</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_cp">43.2. cp</h3>
<div class="paragraph">
<p>Copies files and directories.</p>
</div>
<div class="sect3">
<h4 id="_posix_syntax_11">43.2.1. POSIX Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">cp [options] source dest
cp [options] source... directory</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_supported_options_3">43.2.2. Supported Options</h4>
<div class="ulist">
<ul>
<li>
<p><code>-r</code>, <code>-R</code>: Recursive copy</p>
</li>
<li>
<p><code>-p</code>: Preserve attributes</p>
</li>
<li>
<p><code>-f</code>: Force overwrite</p>
</li>
<li>
<p><code>-i</code>: Interactive mode</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_nushell_conversion_11">43.2.3. Nushell Conversion</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">cp [options] source dest</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_examples_14">43.2.4. Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Copy file
"cp file1 file2" | from posix
# Output: cp file1 file2

# Recursive copy
"cp -r dir1 dir2" | from posix
# Output: cp -r dir1 dir2

# Multiple files
"cp file1 file2 dir/" | from posix
# Output: cp file1 file2 dir/</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_mv">43.3. mv</h3>
<div class="paragraph">
<p>Moves/renames files and directories.</p>
</div>
<div class="sect3">
<h4 id="_posix_syntax_12">43.3.1. POSIX Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">mv [options] source dest
mv [options] source... directory</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_supported_options_4">43.3.2. Supported Options</h4>
<div class="ulist">
<ul>
<li>
<p><code>-f</code>: Force overwrite</p>
</li>
<li>
<p><code>-i</code>: Interactive mode</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_nushell_conversion_12">43.3.3. Nushell Conversion</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">mv [options] source dest</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_examples_15">43.3.4. Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Move file
"mv file1 file2" | from posix
# Output: mv file1 file2

# Move to directory
"mv file1 dir/" | from posix
# Output: mv file1 dir/</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_rm">43.4. rm</h3>
<div class="paragraph">
<p>Removes files and directories.</p>
</div>
<div class="sect3">
<h4 id="_posix_syntax_13">43.4.1. POSIX Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">rm [options] file...</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_supported_options_5">43.4.2. Supported Options</h4>
<div class="ulist">
<ul>
<li>
<p><code>-r</code>, <code>-R</code>: Recursive removal</p>
</li>
<li>
<p><code>-f</code>: Force removal</p>
</li>
<li>
<p><code>-i</code>: Interactive mode</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_nushell_conversion_13">43.4.3. Nushell Conversion</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">rm [options] file...</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_examples_16">43.4.4. Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Remove file
"rm file.txt" | from posix
# Output: rm file.txt

# Remove directory
"rm -r directory" | from posix
# Output: rm -r directory

# Force remove
"rm -rf temp/" | from posix
# Output: rm -rf temp/</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_mkdir">43.5. mkdir</h3>
<div class="paragraph">
<p>Creates directories.</p>
</div>
<div class="sect3">
<h4 id="_posix_syntax_14">43.5.1. POSIX Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">mkdir [options] directory...</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_supported_options_6">43.5.2. Supported Options</h4>
<div class="ulist">
<ul>
<li>
<p><code>-p</code>: Create parent directories</p>
</li>
<li>
<p><code>-m</code>: Set permissions</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_nushell_conversion_14">43.5.3. Nushell Conversion</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">mkdir [options] directory...</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_examples_17">43.5.4. Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Create directory
"mkdir newdir" | from posix
# Output: mkdir newdir

# Create with parents
"mkdir -p path/to/dir" | from posix
# Output: mkdir -p path/to/dir</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_rmdir">43.6. rmdir</h3>
<div class="paragraph">
<p>Removes empty directories.</p>
</div>
<div class="sect3">
<h4 id="_posix_syntax_15">43.6.1. POSIX Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">rmdir [options] directory...</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_supported_options_7">43.6.2. Supported Options</h4>
<div class="ulist">
<ul>
<li>
<p><code>-p</code>: Remove parent directories</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_nushell_conversion_15">43.6.3. Nushell Conversion</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">rmdir [options] directory...</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_examples_18">43.6.4. Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Remove empty directory
"rmdir emptydir" | from posix
# Output: rmdir emptydir</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_chmod">43.7. chmod</h3>
<div class="paragraph">
<p>Changes file permissions.</p>
</div>
<div class="sect3">
<h4 id="_posix_syntax_16">43.7.1. POSIX Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">chmod [options] mode file...</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_supported_options_8">43.7.2. Supported Options</h4>
<div class="ulist">
<ul>
<li>
<p><code>-R</code>: Recursive</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_nushell_conversion_16">43.7.3. Nushell Conversion</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">chmod [options] mode file...</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_examples_19">43.7.4. Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Change permissions
"chmod 755 script.sh" | from posix
# Output: chmod 755 script.sh

# Recursive change
"chmod -R 644 dir/" | from posix
# Output: chmod -R 644 dir/</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_chown">43.8. chown</h3>
<div class="paragraph">
<p>Changes file ownership.</p>
</div>
<div class="sect3">
<h4 id="_posix_syntax_17">43.8.1. POSIX Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">chown [options] owner[:group] file...</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_supported_options_9">43.8.2. Supported Options</h4>
<div class="ulist">
<ul>
<li>
<p><code>-R</code>: Recursive</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_nushell_conversion_17">43.8.3. Nushell Conversion</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">chown [options] owner[:group] file...</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_examples_20">43.8.4. Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Change owner
"chown user file.txt" | from posix
# Output: chown user file.txt

# Change owner and group
"chown user:group file.txt" | from posix
# Output: chown user:group file.txt</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_ln">43.9. ln</h3>
<div class="paragraph">
<p>Creates file links.</p>
</div>
<div class="sect3">
<h4 id="_posix_syntax_18">43.9.1. POSIX Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">ln [options] target [link_name]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_supported_options_10">43.9.2. Supported Options</h4>
<div class="ulist">
<ul>
<li>
<p><code>-s</code>: Create symbolic link</p>
</li>
<li>
<p><code>-f</code>: Force creation</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_nushell_conversion_18">43.9.3. Nushell Conversion</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">ln [options] target [link_name]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_examples_21">43.9.4. Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Create hard link
"ln file.txt link.txt" | from posix
# Output: ln file.txt link.txt

# Create symbolic link
"ln -s /path/to/file symlink" | from posix
# Output: ln -s /path/to/file symlink</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_touch">43.10. touch</h3>
<div class="paragraph">
<p>Creates files or updates timestamps.</p>
</div>
<div class="sect3">
<h4 id="_posix_syntax_19">43.10.1. POSIX Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">touch [options] file...</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_supported_options_11">43.10.2. Supported Options</h4>
<div class="ulist">
<ul>
<li>
<p><code>-a</code>: Change access time</p>
</li>
<li>
<p><code>-m</code>: Change modification time</p>
</li>
<li>
<p><code>-t</code>: Use specific time</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_nushell_conversion_19">43.10.3. Nushell Conversion</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">touch [options] file...</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_examples_22">43.10.4. Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Create/touch file
"touch newfile.txt" | from posix
# Output: touch newfile.txt

# Touch multiple files
"touch file1 file2 file3" | from posix
# Output: touch file1 file2 file3</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_text_processing">44. Text Processing</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_cat">44.1. cat</h3>
<div class="paragraph">
<p>Displays file contents.</p>
</div>
<div class="sect3">
<h4 id="_posix_syntax_20">44.1.1. POSIX Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">cat [options] [file...]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_supported_options_12">44.1.2. Supported Options</h4>
<div class="ulist">
<ul>
<li>
<p><code>-n</code>: Number lines</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_nushell_conversion_20">44.1.3. Nushell Conversion</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">open file | [lines | enumerate]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_examples_23">44.1.4. Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Display file
"cat file.txt" | from posix
# Output: open file.txt

# Number lines
"cat -n file.txt" | from posix
# Output: open file.txt | lines | enumerate | each { |it| $"($it.index + 1) ($it.item)" }

# Multiple files
"cat file1 file2" | from posix
# Output: open file1; open file2</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_head">44.2. head</h3>
<div class="paragraph">
<p>Displays first lines of files.</p>
</div>
<div class="sect3">
<h4 id="_posix_syntax_21">44.2.1. POSIX Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">head [options] [file...]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_supported_options_13">44.2.2. Supported Options</h4>
<div class="ulist">
<ul>
<li>
<p><code>-n num</code>: Show first num lines</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_nushell_conversion_21">44.2.3. Nushell Conversion</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">open file | lines | first [n]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_examples_24">44.2.4. Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># First 10 lines (default)
"head file.txt" | from posix
# Output: open file.txt | lines | first 10

# First 5 lines
"head -n 5 file.txt" | from posix
# Output: open file.txt | lines | first 5</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_tail">44.3. tail</h3>
<div class="paragraph">
<p>Displays last lines of files.</p>
</div>
<div class="sect3">
<h4 id="_posix_syntax_22">44.3.1. POSIX Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">tail [options] [file...]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_supported_options_14">44.3.2. Supported Options</h4>
<div class="ulist">
<ul>
<li>
<p><code>-n num</code>: Show last num lines</p>
</li>
<li>
<p><code>-f</code>: Follow file changes</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_nushell_conversion_22">44.3.3. Nushell Conversion</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">open file | lines | last [n]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_examples_25">44.3.4. Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Last 10 lines (default)
"tail file.txt" | from posix
# Output: open file.txt | lines | last 10

# Last 5 lines
"tail -n 5 file.txt" | from posix
# Output: open file.txt | lines | last 5</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_wc">44.4. wc</h3>
<div class="paragraph">
<p>Counts lines, words, and characters.</p>
</div>
<div class="sect3">
<h4 id="_posix_syntax_23">44.4.1. POSIX Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">wc [options] [file...]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_supported_options_15">44.4.2. Supported Options</h4>
<div class="ulist">
<ul>
<li>
<p><code>-l</code>: Count lines</p>
</li>
<li>
<p><code>-w</code>: Count words</p>
</li>
<li>
<p><code>-c</code>: Count characters</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_nushell_conversion_23">44.4.3. Nushell Conversion</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">open file | [lines | length] | [split row ' ' | length] | [str length]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_examples_26">44.4.4. Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Count lines
"wc -l file.txt" | from posix
# Output: open file.txt | lines | length

# Count words
"wc -w file.txt" | from posix
# Output: open file.txt | split row ' ' | length

# Count characters
"wc -c file.txt" | from posix
# Output: open file.txt | str length</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_sort">44.5. sort</h3>
<div class="paragraph">
<p>Sorts lines of text.</p>
</div>
<div class="sect3">
<h4 id="_posix_syntax_24">44.5.1. POSIX Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">sort [options] [file...]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_supported_options_16">44.5.2. Supported Options</h4>
<div class="ulist">
<ul>
<li>
<p><code>-r</code>: Reverse order</p>
</li>
<li>
<p><code>-n</code>: Numeric sort</p>
</li>
<li>
<p><code>-u</code>: Unique lines only</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_nushell_conversion_24">44.5.3. Nushell Conversion</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">open file | lines | sort</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_examples_27">44.5.4. Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Sort lines
"sort file.txt" | from posix
# Output: open file.txt | lines | sort

# Reverse sort
"sort -r file.txt" | from posix
# Output: open file.txt | lines | sort | reverse

# Numeric sort
"sort -n numbers.txt" | from posix
# Output: open numbers.txt | lines | sort-by { |it| $it | into int }</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_uniq">44.6. uniq</h3>
<div class="paragraph">
<p>Removes duplicate lines.</p>
</div>
<div class="sect3">
<h4 id="_posix_syntax_25">44.6.1. POSIX Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">uniq [options] [file...]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_supported_options_17">44.6.2. Supported Options</h4>
<div class="ulist">
<ul>
<li>
<p><code>-c</code>: Count occurrences</p>
</li>
<li>
<p><code>-d</code>: Only show duplicates</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_nushell_conversion_25">44.6.3. Nushell Conversion</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">open file | lines | uniq</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_examples_28">44.6.4. Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Remove duplicates
"uniq file.txt" | from posix
# Output: open file.txt | lines | uniq

# Count occurrences
"uniq -c file.txt" | from posix
# Output: open file.txt | lines | group-by { |it| $it } | each { |it| { count: ($it.items | length), line: $it.group } }</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_cut">44.7. cut</h3>
<div class="paragraph">
<p>Extracts columns from text.</p>
</div>
<div class="sect3">
<h4 id="_posix_syntax_26">44.7.1. POSIX Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">cut [options] [file...]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_supported_options_18">44.7.2. Supported Options</h4>
<div class="ulist">
<ul>
<li>
<p><code>-d delim</code>: Field delimiter</p>
</li>
<li>
<p><code>-f list</code>: Field list</p>
</li>
<li>
<p><code>-c list</code>: Character positions</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_nushell_conversion_26">44.7.3. Nushell Conversion</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">open file | lines | split column delim | select columns</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_examples_29">44.7.4. Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Extract fields
"cut -d: -f1,3 /etc/passwd" | from posix
# Output: open /etc/passwd | lines | split column ":" | select column1 column3

# Extract characters
"cut -c1-5 file.txt" | from posix
# Output: open file.txt | lines | each { |it| $it | str substring 0..5 }</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_tr">44.8. tr</h3>
<div class="paragraph">
<p>Translates characters.</p>
</div>
<div class="sect3">
<h4 id="_posix_syntax_27">44.8.1. POSIX Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">tr [options] set1 [set2]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_supported_options_19">44.8.2. Supported Options</h4>
<div class="ulist">
<ul>
<li>
<p><code>-d</code>: Delete characters</p>
</li>
<li>
<p><code>-s</code>: Squeeze repeats</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_nushell_conversion_27">44.8.3. Nushell Conversion</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">str replace -a</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_examples_30">44.8.4. Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Translate characters
"echo 'hello' | tr 'a-z' 'A-Z'" | from posix
# Output: "hello" | str upcase

# Delete characters
"echo 'hello' | tr -d 'l'" | from posix
# Output: "hello" | str replace -a "l" ""</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_grep">44.9. grep</h3>
<div class="paragraph">
<p>Searches for patterns in text.</p>
</div>
<div class="sect3">
<h4 id="_posix_syntax_28">44.9.1. POSIX Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">grep [options] pattern [file...]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_supported_options_20">44.9.2. Supported Options</h4>
<div class="ulist">
<ul>
<li>
<p><code>-i</code>: Case insensitive</p>
</li>
<li>
<p><code>-v</code>: Invert match</p>
</li>
<li>
<p><code>-r</code>: Recursive search</p>
</li>
<li>
<p><code>-n</code>: Show line numbers</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_nushell_conversion_28">44.9.3. Nushell Conversion</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">open file | lines | where ($it =~ pattern)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_examples_31">44.9.4. Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Search pattern
"grep 'pattern' file.txt" | from posix
# Output: open file.txt | lines | where ($it =~ "pattern")

# Case insensitive
"grep -i 'pattern' file.txt" | from posix
# Output: open file.txt | lines | where ($it =~ "(?i)pattern")

# Invert match
"grep -v 'pattern' file.txt" | from posix
# Output: open file.txt | lines | where not ($it =~ "pattern")

# Recursive search
"grep -r 'pattern' dir/" | from posix
# Output: ls dir/ -R | where type == file | each { |it| open $it.name | lines | where ($it =~ "pattern") }</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_system_information">45. System Information</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_ps">45.1. ps</h3>
<div class="paragraph">
<p>Shows process information.</p>
</div>
<div class="sect3">
<h4 id="_posix_syntax_29">45.1.1. POSIX Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">ps [options]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_supported_options_21">45.1.2. Supported Options</h4>
<div class="ulist">
<ul>
<li>
<p><code>aux</code>: All processes with details</p>
</li>
<li>
<p><code>-ef</code>: Full format</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_nushell_conversion_29">45.1.3. Nushell Conversion</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">ps</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_examples_32">45.1.4. Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># List processes
"ps" | from posix
# Output: ps

# All processes
"ps aux" | from posix
# Output: ps</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_kill">45.2. kill</h3>
<div class="paragraph">
<p>Terminates processes.</p>
</div>
<div class="sect3">
<h4 id="_posix_syntax_30">45.2.1. POSIX Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">kill [options] pid...</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_supported_options_22">45.2.2. Supported Options</h4>
<div class="ulist">
<ul>
<li>
<p><code>-9</code>: Force kill (SIGKILL)</p>
</li>
<li>
<p><code>-TERM</code>: Terminate (SIGTERM)</p>
</li>
<li>
<p><code>-HUP</code>: Hangup (SIGHUP)</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_nushell_conversion_30">45.2.3. Nushell Conversion</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">kill [options] pid...</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_examples_33">45.2.4. Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Kill process
"kill 1234" | from posix
# Output: kill 1234

# Force kill
"kill -9 1234" | from posix
# Output: kill -f 1234

# Terminate
"kill -TERM 1234" | from posix
# Output: kill 1234</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_who">45.3. who</h3>
<div class="paragraph">
<p>Shows logged-in users.</p>
</div>
<div class="sect3">
<h4 id="_posix_syntax_31">45.3.1. POSIX Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">who [options]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_nushell_conversion_31">45.3.2. Nushell Conversion</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">who</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_examples_34">45.3.3. Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Show users
"who" | from posix
# Output: who</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_id">45.4. id</h3>
<div class="paragraph">
<p>Shows user and group IDs.</p>
</div>
<div class="sect3">
<h4 id="_posix_syntax_32">45.4.1. POSIX Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">id [options] [user]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_supported_options_23">45.4.2. Supported Options</h4>
<div class="ulist">
<ul>
<li>
<p><code>-u</code>: User ID only</p>
</li>
<li>
<p><code>-g</code>: Group ID only</p>
</li>
<li>
<p><code>-n</code>: Show names</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_nushell_conversion_32">45.4.3. Nushell Conversion</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">id [options] [user]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_examples_35">45.4.4. Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Show current user ID
"id" | from posix
# Output: id

# User ID only
"id -u" | from posix
# Output: id -u

# Specific user
"id username" | from posix
# Output: id username</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_uname">45.5. uname</h3>
<div class="paragraph">
<p>Shows system information.</p>
</div>
<div class="sect3">
<h4 id="_posix_syntax_33">45.5.1. POSIX Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">uname [options]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_supported_options_24">45.5.2. Supported Options</h4>
<div class="ulist">
<ul>
<li>
<p><code>-a</code>: All information</p>
</li>
<li>
<p><code>-s</code>: System name</p>
</li>
<li>
<p><code>-r</code>: Release</p>
</li>
<li>
<p><code>-m</code>: Machine type</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_nushell_conversion_33">45.5.3. Nushell Conversion</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">sys | get host</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_examples_36">45.5.4. Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># System info
"uname" | from posix
# Output: sys | get host.name

# All info
"uname -a" | from posix
# Output: sys | get host</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_date">45.6. date</h3>
<div class="paragraph">
<p>Shows or sets date.</p>
</div>
<div class="sect3">
<h4 id="_posix_syntax_34">45.6.1. POSIX Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">date [options] [+format]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_supported_options_25">45.6.2. Supported Options</h4>
<div class="ulist">
<ul>
<li>
<p><code>+format</code>: Format string</p>
</li>
<li>
<p><code>-u</code>: UTC time</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_nushell_conversion_34">45.6.3. Nushell Conversion</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">date now</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_examples_37">45.6.4. Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Current date
"date" | from posix
# Output: date now

# UTC time
"date -u" | from posix
# Output: date now | date to-timezone UTC

# Formatted date
"date '+%Y-%m-%d'" | from posix
# Output: date now | format date "%Y-%m-%d"</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_df">45.7. df</h3>
<div class="paragraph">
<p>Shows filesystem usage.</p>
</div>
<div class="sect3">
<h4 id="_posix_syntax_35">45.7.1. POSIX Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">df [options] [file...]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_supported_options_26">45.7.2. Supported Options</h4>
<div class="ulist">
<ul>
<li>
<p><code>-h</code>: Human readable</p>
</li>
<li>
<p><code>-k</code>: 1K blocks</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_nushell_conversion_35">45.7.3. Nushell Conversion</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">df [options] [file...]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_examples_38">45.7.4. Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Disk usage
"df" | from posix
# Output: df

# Human readable
"df -h" | from posix
# Output: df -h</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_du">45.8. du</h3>
<div class="paragraph">
<p>Shows directory usage.</p>
</div>
<div class="sect3">
<h4 id="_posix_syntax_36">45.8.1. POSIX Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">du [options] [file...]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_supported_options_27">45.8.2. Supported Options</h4>
<div class="ulist">
<ul>
<li>
<p><code>-h</code>: Human readable</p>
</li>
<li>
<p><code>-s</code>: Summary only</p>
</li>
<li>
<p><code>-a</code>: All files</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_nushell_conversion_36">45.8.3. Nushell Conversion</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">du [options] [file...]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_examples_39">45.8.4. Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Directory usage
"du" | from posix
# Output: du

# Summary
"du -s" | from posix
# Output: du -s

# Human readable
"du -h" | from posix
# Output: du -h</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_search_commands">46. Search Commands</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_find">46.1. find</h3>
<div class="paragraph">
<p>Searches for files and directories.</p>
</div>
<div class="sect3">
<h4 id="_posix_syntax_37">46.1.1. POSIX Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">find [path...] [expression]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_supported_options_28">46.1.2. Supported Options</h4>
<div class="ulist">
<ul>
<li>
<p><code>-name pattern</code>: Match filename</p>
</li>
<li>
<p><code>-type type</code>: Match file type (f=file, d=directory)</p>
</li>
<li>
<p><code>-size [+-]size</code>: Match file size</p>
</li>
<li>
<p><code>-exec command {} \;</code>: Execute command on matches</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_nushell_conversion_37">46.1.3. Nushell Conversion</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">ls path -R | where conditions</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_examples_40">46.1.4. Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Find files by name
"find . -name '*.txt'" | from posix
# Output: ls . -R | where name =~ "\.txt$"

# Find directories
"find /tmp -type d" | from posix
# Output: ls /tmp -R | where type == dir

# Find large files
"find . -size +1M" | from posix
# Output: ls . -R | where size &gt; 1MB

# Execute command
"find . -name '*.txt' -exec ls -l {} \;" | from posix
# Output: ls . -R | where name =~ "\.txt$" | each { |it| ls -l $it.name }</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_external_commands">47. External Commands</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_awk">47.1. awk</h3>
<div class="paragraph">
<p>AWK programming language processor.</p>
</div>
<div class="sect3">
<h4 id="_posix_syntax_38">47.1.1. POSIX Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">awk [options] 'program' [file...]
awk [options] -f progfile [file...]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_supported_options_29">47.1.2. Supported Options</h4>
<div class="ulist">
<ul>
<li>
<p><code>-F fs</code>: Field separator</p>
</li>
<li>
<p><code>-f file</code>: Program file</p>
</li>
<li>
<p><code>-v var=val</code>: Variable assignment</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_nushell_conversion_38">47.1.3. Nushell Conversion</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># AWK commands are converted to external command calls
# with proper argument handling and input/output processing</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_examples_41">47.1.4. Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Print specific fields
"awk '{print $1, $3}' file.txt" | from posix
# Output: ^awk "{print $1, $3}" file.txt

# With field separator
"awk -F: '{print $1}' /etc/passwd" | from posix
# Output: ^awk -F ":" "{print $1}" /etc/passwd

# Pattern matching
"awk '/pattern/ {print $0}' file.txt" | from posix
# Output: ^awk "/pattern/ {print $0}" file.txt

# Built-in variables
"awk '{print NR, $0}' file.txt" | from posix
# Output: ^awk "{print NR, $0}" file.txt</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_control_structures_2">48. Control Structures</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_if">48.1. if</h3>
<div class="paragraph">
<p>Conditional execution.</p>
</div>
<div class="sect3">
<h4 id="_posix_syntax_39">48.1.1. POSIX Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">if condition; then
    commands
elif condition; then
    commands
else
    commands
fi</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_nushell_conversion_39">48.1.2. Nushell Conversion</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">if condition {
    commands
} else if condition {
    commands
} else {
    commands
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_examples_42">48.1.3. Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Simple if
"if test -f file; then echo exists; fi" | from posix
# Output: if ("file" | path exists) and (("file" | path type) == "file") { print "exists" }

# If-else
"if test -f file; then echo exists; else echo missing; fi" | from posix
# Output: if ("file" | path exists) and (("file" | path type) == "file") { print "exists" } else { print "missing" }

# Elif
"if test -f file; then echo file; elif test -d file; then echo dir; fi" | from posix
# Output: if ("file" | path exists) and (("file" | path type) == "file") { print "file" } else if ("file" | path exists) and (("file" | path type) == "dir") { print "dir" }</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_for">48.2. for</h3>
<div class="paragraph">
<p>Loop over values.</p>
</div>
<div class="sect3">
<h4 id="_posix_syntax_40">48.2.1. POSIX Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">for variable in word1 word2 ...; do
    commands
done</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_nushell_conversion_40">48.2.2. Nushell Conversion</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">for variable in [word1 word2 ...] {
    commands
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_examples_43">48.2.3. Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Simple for loop
"for i in 1 2 3; do echo $i; done" | from posix
# Output: for i in [1 2 3] { print $i }

# File iteration
"for file in *.txt; do echo $file; done" | from posix
# Output: for file in (glob "*.txt") { print $file }

# Command substitution
"for user in $(cat users.txt); do echo $user; done" | from posix
# Output: for user in (open users.txt | lines) { print $user }</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_while">48.3. while</h3>
<div class="paragraph">
<p>Loop while condition is true.</p>
</div>
<div class="sect3">
<h4 id="_posix_syntax_41">48.3.1. POSIX Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">while condition; do
    commands
done</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_nushell_conversion_41">48.3.2. Nushell Conversion</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">while condition {
    commands
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_examples_44">48.3.3. Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Simple while loop
"while test -f file; do sleep 1; done" | from posix
# Output: while ("file" | path exists) and (("file" | path type) == "file") { sleep 1sec }

# Counter loop
"i=1; while test $i -le 10; do echo $i; i=$((i+1)); done" | from posix
# Output: let i = 1; while ($i | into int) &lt;= (10 | into int) { print $i; $i = ($i + 1) }</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_until">48.4. until</h3>
<div class="paragraph">
<p>Loop until condition is true.</p>
</div>
<div class="sect3">
<h4 id="_posix_syntax_42">48.4.1. POSIX Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">until condition; do
    commands
done</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_nushell_conversion_42">48.4.2. Nushell Conversion</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">while not condition {
    commands
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_examples_45">48.4.3. Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Simple until loop
"until test -f file; do sleep 1; done" | from posix
# Output: while not (("file" | path exists) and (("file" | path type) == "file")) { sleep 1sec }</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_case">48.5. case</h3>
<div class="paragraph">
<p>Pattern matching.</p>
</div>
<div class="sect3">
<h4 id="_posix_syntax_43">48.5.1. POSIX Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">case word in
    pattern1)
        commands;;
    pattern2)
        commands;;
    *)
        commands;;
esac</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_nushell_conversion_43">48.5.2. Nushell Conversion</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">match word {
    pattern1 =&gt; { commands }
    pattern2 =&gt; { commands }
    _ =&gt; { commands }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_examples_46">48.5.3. Examples</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Simple case
"case $var in hello) echo hi;; *) echo unknown;; esac" | from posix
# Output: match $var { "hello" =&gt; { print "hi" } _ =&gt; { print "unknown" } }

# Multiple patterns
"case $var in a|b) echo letter;; [0-9]) echo digit;; esac" | from posix
# Output: match $var { "a" | "b" =&gt; { print "letter" } _ if ($var | str match '\d') =&gt; { print "digit" } }</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_operators">49. Operators</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_logical_operators_2">49.1. Logical Operators</h3>
<div class="sect3">
<h4 id="_and">49.1.1. AND (&amp;&amp;)</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">command1 &amp;&amp; command2</code></pre>
</div>
</div>
<div class="paragraph">
<p>Converted to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">if (command1) { command2 }</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_or">49.1.2. OR (||)</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">command1 || command2</code></pre>
</div>
</div>
<div class="paragraph">
<p>Converted to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">try { command1 } catch { command2 }</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_not">49.1.3. NOT (!)</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">! command</code></pre>
</div>
</div>
<div class="paragraph">
<p>Converted to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">not (command)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_arithmetic_operators">49.2. Arithmetic Operators</h3>
<div class="sect3">
<h4 id="_addition">49.2.1. Addition</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">$((a + b))</code></pre>
</div>
</div>
<div class="paragraph">
<p>Converted to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">($a + $b)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_subtraction">49.2.2. Subtraction</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">$((a - b))</code></pre>
</div>
</div>
<div class="paragraph">
<p>Converted to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">($a - $b)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_multiplication">49.2.3. Multiplication</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">$((a * b))</code></pre>
</div>
</div>
<div class="paragraph">
<p>Converted to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">($a * $b)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_division">49.2.4. Division</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">$((a / b))</code></pre>
</div>
</div>
<div class="paragraph">
<p>Converted to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">($a / $b)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_modulo">49.2.5. Modulo</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">$((a % b))</code></pre>
</div>
</div>
<div class="paragraph">
<p>Converted to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">($a mod $b)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_comparison_operators">49.3. Comparison Operators</h3>
<div class="sect3">
<h4 id="_string_equality">49.3.1. String Equality</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash">[ "$a" = "$b" ]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Converted to:</p>
</div>
</div>
</div>
</div>
</div>
<h1 id="chapter-15" class="sect0">Chapter 15: Troubleshooting</h1>
<div class="sect1">
<h2 id="_overview_4">50. Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This chapter provides comprehensive troubleshooting guidance for common issues encountered when using the nu-posix plugin. It covers installation problems, conversion errors, performance issues, and provides solutions for various edge cases.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installation_issues">51. Installation Issues</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_plugin_registration_problems">51.1. Plugin Registration Problems</h3>
<div class="sect3">
<h4 id="_symptom">51.1.1. Symptom</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>Error: Plugin not found: nu-posix</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_solutions">51.1.2. Solutions</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Verify Plugin Build</strong>
<code><code>bash
cargo build --release
ls -la target/release/nu-posix
</code></code></p>
</li>
<li>
<p><strong>Check Plugin Registration</strong>
<code><code>nu
plugin list | where name =~ "nu-posix"
</code></code></p>
</li>
<li>
<p><strong>Re-register Plugin</strong>
<code><code>nu
plugin rm nu-posix
plugin add target/release/nu-posix
plugin use nu-posix
</code></code></p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_symptom_2">51.1.3. Symptom</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>Error: Plugin failed to load</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_solutions_2">51.1.4. Solutions</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Check Nushell Version Compatibility</strong>
<code><code>nu
version
</code></code>
Ensure you&#8217;re using Nushell 0.105 or compatible version.</p>
</li>
<li>
<p><strong>Verify Plugin Dependencies</strong>
<code><code>bash
ldd target/release/nu-posix  # Linux
otool -L target/release/nu-posix  # macOS
</code></code></p>
</li>
<li>
<p><strong>Rebuild Plugin</strong>
<code><code>bash
cargo clean
cargo build --release
</code></code></p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_compilation_errors">51.2. Compilation Errors</h3>
<div class="sect3">
<h4 id="_symptom_3">51.2.1. Symptom</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>error: failed to compile nu-posix</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_solutions_3">51.2.2. Solutions</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Update Rust Toolchain</strong>
<code><code>bash
rustup update
rustup default stable
</code></code></p>
</li>
<li>
<p><strong>Check Cargo.toml Dependencies</strong>
Ensure all dependencies are compatible and up-to-date.</p>
</li>
<li>
<p><strong>Clear Cargo Cache</strong>
<code><code>bash
cargo clean
rm -rf ~/.cargo/registry/cache
</code></code></p>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conversion_errors">52. Conversion Errors</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_parse_errors">52.1. Parse Errors</h3>
<div class="sect3">
<h4 id="_symptom_4">52.1.1. Symptom</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>Error: Parse error: unexpected token</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_common_causes_and_solutions">52.1.2. Common Causes and Solutions</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Malformed Shell Syntax</strong></p>
<div class="ulist">
<ul>
<li>
<p><strong>Problem</strong>: Invalid POSIX shell syntax</p>
</li>
<li>
<p><strong>Solution</strong>: Fix the original shell script or use fallback parser</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Unsupported Shell Features</strong></p>
<div class="ulist">
<ul>
<li>
<p><strong>Problem</strong>: Advanced bash/zsh features not supported</p>
</li>
<li>
<p><strong>Solution</strong>: Use simpler POSIX-compatible syntax</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Complex Quoting Issues</strong></p>
<div class="ulist">
<ul>
<li>
<p><strong>Problem</strong>: Complex nested quotes confuse parser</p>
</li>
<li>
<p><strong>Solution</strong>: Simplify quoting or escape manually</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_example_fix">52.1.3. Example Fix</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash"># Original (problematic)
echo "He said \"Hello '$USER'\" to me"

# Fixed
echo "He said \"Hello \$USER\" to me"</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_conversion_errors_2">52.2. Conversion Errors</h3>
<div class="sect3">
<h4 id="_symptom_5">52.2.1. Symptom</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>Error: Conversion error: unsupported command</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_solutions_4">52.2.2. Solutions</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Check Command Registry</strong>
<code><code>nu
from posix --help
</code></code></p>
</li>
<li>
<p><strong>Use External Command Fallback</strong>
Most unsupported commands fall back to external execution automatically.</p>
</li>
<li>
<p><strong>Add Custom Converter</strong>
For frequently used commands, consider implementing a custom converter.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_symptom_6">52.2.3. Symptom</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>Error: Registry error: converter not found</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_solutions_5">52.2.4. Solutions</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Verify Plugin Installation</strong>
<code><code>nu
plugin list | where name =~ "nu-posix"
</code></code></p>
</li>
<li>
<p><strong>Check Command Spelling</strong>
Ensure the command name is spelled correctly.</p>
</li>
<li>
<p><strong>Update Plugin</strong>
<code><code>nu
plugin rm nu-posix
plugin add target/release/nu-posix
plugin use nu-posix
</code></code></p>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_performance_issues">53. Performance Issues</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_slow_conversion">53.1. Slow Conversion</h3>
<div class="sect3">
<h4 id="_symptom_7">53.1.1. Symptom</h4>
<div class="paragraph">
<p>Conversion takes unexpectedly long time.</p>
</div>
</div>
<div class="sect3">
<h4 id="_solutions_6">53.1.2. Solutions</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Check Script Size</strong>
Large scripts may require more processing time.</p>
</li>
<li>
<p><strong>Profile Performance</strong>
<code><code>bash
cargo build --release --features profiling
time nu -c '"large_script.sh" | open | from posix'
</code></code></p>
</li>
<li>
<p><strong>Use Batch Processing</strong>
For multiple files, process them in batches.</p>
</li>
<li>
<p><strong>Optimize Script Content</strong>
Complex constructs may slow down parsing.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_memory_usage">53.2. Memory Usage</h3>
<div class="sect3">
<h4 id="_symptom_8">53.2.1. Symptom</h4>
<div class="paragraph">
<p>High memory usage during conversion.</p>
</div>
</div>
<div class="sect3">
<h4 id="_solutions_7">53.2.2. Solutions</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Process Scripts in Chunks</strong>
<code><code>nu
"large_script.sh" | open | lines | each { |line| $line | from posix }
</code></code></p>
</li>
<li>
<p><strong>Use Streaming Processing</strong>
For very large files, process line by line.</p>
</li>
<li>
<p><strong>Monitor Memory Usage</strong>
<code><code>bash
cargo build --release
valgrind --tool=memcheck ./target/release/nu-posix
</code></code></p>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_output_issues">54. Output Issues</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_incorrect_nu_syntax">54.1. Incorrect Nu Syntax</h3>
<div class="sect3">
<h4 id="_symptom_9">54.1.1. Symptom</h4>
<div class="paragraph">
<p>Generated Nushell code doesn&#8217;t work as expected.</p>
</div>
</div>
<div class="sect3">
<h4 id="_solutions_8">54.1.2. Solutions</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Verify Original Script</strong>
Ensure the original POSIX script is correct.</p>
</li>
<li>
<p><strong>Check Conversion Logic</strong>
<code><code>nu
"echo hello" | from posix
</code></code></p>
</li>
<li>
<p><strong>Test Step by Step</strong>
Break down complex scripts into smaller parts.</p>
</li>
<li>
<p><strong>Use Pretty Printing</strong>
<code><code>nu
"complex_script.sh" | open | from posix --pretty
</code></code></p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_missing_features">54.2. Missing Features</h3>
<div class="sect3">
<h4 id="_symptom_10">54.2.1. Symptom</h4>
<div class="paragraph">
<p>Some shell features are not converted.</p>
</div>
</div>
<div class="sect3">
<h4 id="_solutions_9">54.2.2. Solutions</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Check Feature Support</strong>
Review documentation for supported features.</p>
</li>
<li>
<p><strong>Use Alternative Syntax</strong>
Replace unsupported features with supported equivalents.</p>
</li>
<li>
<p><strong>Manual Conversion</strong>
For complex features, manual conversion may be necessary.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_awk_specific_issues">55. AWK-Specific Issues</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_awk_scripts_not_working">55.1. AWK Scripts Not Working</h3>
<div class="sect3">
<h4 id="_symptom_11">55.1.1. Symptom</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>Error: AWK script fails to execute</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_solutions_10">55.1.2. Solutions</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Check AWK Installation</strong>
<code><code>bash
which awk
awk --version
</code></code></p>
</li>
<li>
<p><strong>Verify Argument Quoting</strong>
<code><code>nu
"awk '{ print $1 }' file.txt" | from posix
</code></code></p>
</li>
<li>
<p><strong>Test AWK Script Directly</strong>
<code><code>bash
awk '{ print $1 }' file.txt
</code></code></p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_complex_awk_programs">55.2. Complex AWK Programs</h3>
<div class="sect3">
<h4 id="_symptom_12">55.2.1. Symptom</h4>
<div class="paragraph">
<p>Complex AWK programs produce incorrect results.</p>
</div>
</div>
<div class="sect3">
<h4 id="_solutions_11">55.2.2. Solutions</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Simplify AWK Script</strong>
Break complex scripts into smaller parts.</p>
</li>
<li>
<p><strong>Use External Files</strong>
<code><code>bash
awk -f script.awk data.txt
</code></code></p>
</li>
<li>
<p><strong>Verify Input Data</strong>
Ensure input data format matches AWK expectations.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_registry_issues">56. Registry Issues</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_command_not_found">56.1. Command Not Found</h3>
<div class="sect3">
<h4 id="_symptom_13">56.1.1. Symptom</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>Error: Command 'xyz' not found in registry</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_solutions_12">56.1.2. Solutions</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Check Available Commands</strong>
<code><code>nu
# List all available converters
plugin list | where name =~ "nu-posix"
</code></code></p>
</li>
<li>
<p><strong>Use External Command</strong>
Commands not in registry are handled as external commands.</p>
</li>
<li>
<p><strong>Verify Command Name</strong>
Ensure the command name is spelled correctly.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_converter_conflicts">56.2. Converter Conflicts</h3>
<div class="sect3">
<h4 id="_symptom_14">56.2.1. Symptom</h4>
<div class="paragraph">
<p>Wrong converter is used for a command.</p>
</div>
</div>
<div class="sect3">
<h4 id="_solutions_13">56.2.2. Solutions</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Check Registry Priority</strong>
Builtin converters have priority over SUS converters.</p>
</li>
<li>
<p><strong>Use Explicit Conversion</strong>
<code><code>nu
"ls -la" | from posix  # Uses builtin registry first
</code></code></p>
</li>
<li>
<p><strong>Debug Registry Lookup</strong>
Enable debug logging to see converter selection.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_debug_techniques">57. Debug Techniques</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_enable_debug_logging">57.1. Enable Debug Logging</h3>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">$env.RUST_LOG = "debug"
"script.sh" | open | from posix</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_use_verbose_output">57.2. Use Verbose Output</h3>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu">"script.sh" | open | from posix --pretty</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_step_by_step_debugging">57.3. Step-by-Step Debugging</h3>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Parse only
"script.sh" | open | parse posix

# Convert specific command
"echo hello" | from posix

# Test individual converter
"ls -la" | from posix</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_test_with_simple_cases">57.4. Test with Simple Cases</h3>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Start with simple cases
"echo hello" | from posix

# Gradually increase complexity
"echo hello | grep h" | from posix</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_common_error_messages">58. Common Error Messages</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_parse_errors_2">58.1. Parse Errors</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Error</th>
<th class="tableblock halign-left valign-top">Cause</th>
<th class="tableblock halign-left valign-top">Solution</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>unexpected token</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Invalid shell syntax</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fix original script syntax</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>unterminated string</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Missing quote</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add missing quote</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>unexpected EOF</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Incomplete command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Complete the command</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>invalid redirection</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Malformed redirection</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fix redirection syntax</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_conversion_errors_3">58.2. Conversion Errors</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Error</th>
<th class="tableblock halign-left valign-top">Cause</th>
<th class="tableblock halign-left valign-top">Solution</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>unsupported command</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Command not in registry</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use external command fallback</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>invalid arguments</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Incorrect argument format</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Check argument syntax</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>conversion failed</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Internal conversion error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Report bug or use workaround</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>registry error</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Converter lookup failed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Check plugin installation</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_performance_optimization">59. Performance Optimization</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_conversion_speed">59.1. Conversion Speed</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Use Simpler Syntax</strong>
Avoid complex shell constructs when possible.</p>
</li>
<li>
<p><strong>Batch Processing</strong>
Process multiple files together.</p>
</li>
<li>
<p><strong>Incremental Conversion</strong>
Convert scripts in parts for large files.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_memory_usage_2">59.2. Memory Usage</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Process Line by Line</strong>
<code><code>nu
"large_script.sh" | open | lines | each { |line| $line | from posix }
</code></code></p>
</li>
<li>
<p><strong>Use Streaming</strong>
Avoid loading entire files into memory.</p>
</li>
<li>
<p><strong>Clear Variables</strong>
<code><code>nu
let result = ("script.sh" | open | from posix)
$result
</code></code></p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_best_practices_2">60. Best Practices</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_script_preparation">60.1. Script Preparation</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Validate Original Scripts</strong>
Ensure POSIX compatibility before conversion.</p>
</li>
<li>
<p><strong>Use Standard Syntax</strong>
Avoid shell-specific extensions.</p>
</li>
<li>
<p><strong>Test Incrementally</strong>
Convert and test small parts first.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_conversion_process">60.2. Conversion Process</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Start Simple</strong>
Begin with basic commands and pipelines.</p>
</li>
<li>
<p><strong>Verify Results</strong>
Test converted Nu code before using.</p>
</li>
<li>
<p><strong>Document Changes</strong>
Keep track of manual modifications.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_error_handling_2">60.3. Error Handling</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Expect Fallbacks</strong>
Some commands will use external execution.</p>
</li>
<li>
<p><strong>Validate Output</strong>
Always test converted code.</p>
</li>
<li>
<p><strong>Have Backups</strong>
Keep original scripts as backup.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_getting_help">61. Getting Help</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_documentation_2">61.1. Documentation</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Check Documentation</strong>
Review all chapters in this book.</p>
</li>
<li>
<p><strong>Read API Reference</strong>
Consult the API documentation.</p>
</li>
<li>
<p><strong>Review Examples</strong>
Look at provided examples and test cases.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_community_support">61.2. Community Support</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>GitHub Issues</strong>
Report bugs and request features.</p>
</li>
<li>
<p><strong>Nushell Community</strong>
Ask questions in Nushell Discord/forum.</p>
</li>
<li>
<p><strong>Contribute</strong>
Help improve the plugin.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_bug_reports">61.3. Bug Reports</h3>
<div class="paragraph">
<p>When reporting bugs, include:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Minimal Reproduction</strong>
<code><code>nu
# Exact command that fails
"echo hello" | from posix
</code></code></p>
</li>
<li>
<p><strong>Error Message</strong>
Complete error output with stack trace.</p>
</li>
<li>
<p><strong>Environment Info</strong>
<code><code>nu
version
$env.RUST_VERSION?
</code></code></p>
</li>
<li>
<p><strong>Expected vs Actual</strong>
What you expected vs what happened.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conclusion_4">62. Conclusion</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This troubleshooting guide covers the most common issues encountered when using nu-posix. For issues not covered here, consider:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Checking the latest documentation</p>
</li>
<li>
<p>Searching existing GitHub issues</p>
</li>
<li>
<p>Creating a new issue with detailed reproduction steps</p>
</li>
<li>
<p>Consulting the Nushell community</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Remember that nu-posix is designed to handle the most common POSIX shell patterns. For complex or unusual constructs, manual conversion may be necessary.</p>
</div>
<div class="paragraph">
<p>The key to successful troubleshooting is to:
- Start with simple test cases
- Verify each step of the conversion process
- Use debug output to understand what&#8217;s happening
- Test converted code thoroughly before deployment</p>
</div>
<div class="paragraph">
<p>Most issues can be resolved by following the systematic approach outlined in this chapter.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installation_guide">63. Installation Guide</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_system_requirements">63.1. System Requirements</h3>
<div class="ulist">
<ul>
<li>
<p><strong>Operating System</strong>: Linux, macOS, Windows (WSL)</p>
</li>
<li>
<p><strong>Nushell Version</strong>: 0.80.0 or later</p>
</li>
<li>
<p><strong>Rust Toolchain</strong>: 1.70.0 or later (for building from source)</p>
</li>
<li>
<p><strong>Memory</strong>: 512MB RAM minimum, 1GB recommended</p>
</li>
<li>
<p><strong>Storage</strong>: 100MB for plugin and dependencies</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_installation_methods">63.2. Installation Methods</h3>
<div class="sect3">
<h4 id="_method_1_from_source_recommended">63.2.1. Method 1: From Source (Recommended)</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash"># Clone repository
git clone https://github.com/nushell/nu-posix.git
cd nu-posix

# Build release version
cargo build --release

# Register with Nushell
nu -c "plugin add target/release/nu-posix"
nu -c "plugin use nu-posix"</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_method_2_using_cargo">63.2.2. Method 2: Using Cargo</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash"># Install directly from crates.io (when available)
cargo install nu-posix

# Register with Nushell
nu -c "plugin add ~/.cargo/bin/nu-posix"
nu -c "plugin use nu-posix"</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_method_3_package_managers">63.2.3. Method 3: Package Managers</h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash"># Ubuntu/Debian (when available)
sudo apt install nu-posix

# macOS with Homebrew (when available)
brew install nu-posix

# Arch Linux (when available)
yay -S nu-posix</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_verification">63.3. Verification</h3>
<div class="paragraph">
<p>After installation, verify everything works:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Check plugin is loaded
plugin list | where name == "nu-posix"

# Test basic functionality
"echo test" | from posix

# Test parsing
"ls -la" | parse posix

# Check version
version | get nu-posix</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configuration">64. Configuration</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_plugin_configuration">64.1. Plugin Configuration</h3>
<div class="paragraph">
<p>nu-posix can be configured through environment variables:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash"># Enable verbose logging
export RUST_LOG=nu_posix=debug

# Configure parser preferences
export NU_POSIX_PREFER_YASH=true
export NU_POSIX_STRICT_POSIX=false</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_nushell_configuration">64.2. Nushell Configuration</h3>
<div class="paragraph">
<p>Add to your Nushell config file (<code>$nu.config-path</code>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Auto-load nu-posix plugin
plugin use nu-posix

# Create aliases for common operations
alias posix-convert = from posix
alias posix-parse = parse posix
alias posix-to-nu = from posix</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_usage_patterns">65. Usage Patterns</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_script_migration_workflow">65.1. Script Migration Workflow</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Assessment Phase</strong>:
<code><code>nu
# Analyze existing scripts
ls scripts/*.sh | each { |file|
    {
        file: $file,
        lines: (open $file | lines | length),
        complexity: (open $file | parse posix | get commands | length)
    }
}
</code></code></p>
</li>
<li>
<p><strong>Conversion Phase</strong>:
```nu
# Convert scripts with verification
ls scripts/*.sh | each { |file|
    let converted = (open $file | from posix)
    $converted | save ($file | str replace .sh .nu)</p>
<div class="literalblock">
<div class="content">
<pre>    # Verify conversion
    try {
        nu -c $converted
        {file: $file, status: "success"}
    } catch {
        {file: $file, status: "failed", error: $in}
    }
}
```</pre>
</div>
</div>
</li>
<li>
<p><strong>Testing Phase</strong>:
<code><code>nu
# Test converted scripts
ls scripts/*.nu | each { |file|
    print $"Testing ($file)&#8230;&#8203;"
    nu -c $"source ($file); main"
}
</code></code></p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_batch_processing">65.2. Batch Processing</h3>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Convert multiple files
def convert-scripts [directory: string] {
    ls $"($directory)/*.sh" | each { |file|
        let output = ($file.name | str replace .sh .nu)
        open $file.name | from posix | save $output
        print $"Converted ($file.name) -&gt; ($output)"
    }
}

# Usage
convert-scripts "scripts"</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_pipeline_integration">65.3. Pipeline Integration</h3>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Integration with existing Nushell workflows
open scripts.json
| get scripts
| each { |script|
    $script.content | from posix
}
| save converted-scripts.nu</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_best_practices_3">66. Best Practices</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_script_conversion">66.1. Script Conversion</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Start Simple</strong>: Begin with basic scripts before tackling complex ones</p>
</li>
<li>
<p><strong>Test Thoroughly</strong>: Always test converted scripts before deployment</p>
</li>
<li>
<p><strong>Incremental Migration</strong>: Convert scripts gradually, not all at once</p>
</li>
<li>
<p><strong>Backup Originals</strong>: Keep original POSIX scripts as reference</p>
</li>
<li>
<p><strong>Document Changes</strong>: Note any manual adjustments needed</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_performance_optimization_2">66.2. Performance Optimization</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Batch Operations</strong>: Convert multiple files together when possible</p>
</li>
<li>
<p><strong>Memory Management</strong>: For large scripts, consider splitting into smaller chunks</p>
</li>
<li>
<p><strong>Caching</strong>: Cache frequently converted patterns</p>
</li>
<li>
<p><strong>Parallel Processing</strong>: Use Nushell&#8217;s parallel processing for large batches</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_error_handling_3">66.3. Error Handling</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Graceful Degradation</strong>: Handle conversion failures gracefully</p>
</li>
<li>
<p><strong>Logging</strong>: Enable appropriate logging levels for debugging</p>
</li>
<li>
<p><strong>Validation</strong>: Verify converted scripts work as expected</p>
</li>
<li>
<p><strong>Rollback Plan</strong>: Have a plan to revert if conversion fails</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_production_deployment">67. Production Deployment</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_cicd_integration">67.1. CI/CD Integration</h3>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="yaml"># Example GitHub Actions workflow
name: Convert Scripts
on: [push]
jobs:
  convert:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    - name: Install Nushell
      run: cargo install nu
    - name: Install nu-posix
      run: |
        git clone https://github.com/nushell/nu-posix.git
        cd nu-posix
        cargo build --release
        nu -c "plugin add target/release/nu-posix"
    - name: Convert scripts
      run: |
        nu -c "
          ls scripts/*.sh | each { |file|
            open $file | from posix | save ($file | str replace .sh .nu)
          }
        "</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_docker_integration">67.2. Docker Integration</h3>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="dockerfile"># Dockerfile for nu-posix
FROM rust:1.70 as builder

WORKDIR /app
COPY . .
RUN cargo build --release

FROM ubuntu:22.04
RUN apt-get update &amp;&amp; apt-get install -y nushell
COPY --from=builder /app/target/release/nu-posix /usr/local/bin/
RUN nu -c "plugin add /usr/local/bin/nu-posix"

ENTRYPOINT ["nu"]</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_monitoring_and_maintenance">67.3. Monitoring and Maintenance</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Performance Monitoring</strong>: Track conversion speed and success rates</p>
</li>
<li>
<p><strong>Error Tracking</strong>: Monitor conversion failures and common issues</p>
</li>
<li>
<p><strong>Updates</strong>: Keep nu-posix updated with latest improvements</p>
</li>
<li>
<p><strong>Documentation</strong>: Maintain documentation of conversion patterns</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_security_considerations">68. Security Considerations</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_input_validation">68.1. Input Validation</h3>
<div class="ulist">
<ul>
<li>
<p>Always validate POSIX scripts before conversion</p>
</li>
<li>
<p>Be cautious with scripts from untrusted sources</p>
</li>
<li>
<p>Use sandboxed environments for testing converted scripts</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_output_verification">68.2. Output Verification</h3>
<div class="ulist">
<ul>
<li>
<p>Verify converted scripts don&#8217;t introduce security vulnerabilities</p>
</li>
<li>
<p>Check for unintended command modifications</p>
</li>
<li>
<p>Validate file permissions and access patterns</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_environment_security">68.3. Environment Security</h3>
<div class="ulist">
<ul>
<li>
<p>Use appropriate file permissions for converted scripts</p>
</li>
<li>
<p>Secure plugin installation and updates</p>
</li>
<li>
<p>Monitor for unusual conversion patterns</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_migration_strategies">69. Migration Strategies</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_gradual_migration">69.1. Gradual Migration</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Phase 1</strong>: Convert non-critical utility scripts</p>
</li>
<li>
<p><strong>Phase 2</strong>: Convert automation scripts with thorough testing</p>
</li>
<li>
<p><strong>Phase 3</strong>: Convert critical system scripts with rollback plans</p>
</li>
<li>
<p><strong>Phase 4</strong>: Full migration with monitoring</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_parallel_operation">69.2. Parallel Operation</h3>
<div class="ulist">
<ul>
<li>
<p>Run both POSIX and Nushell versions during transition</p>
</li>
<li>
<p>Compare outputs to ensure consistency</p>
</li>
<li>
<p>Gradually phase out POSIX versions</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_training_and_adoption">69.3. Training and Adoption</h3>
<div class="ulist">
<ul>
<li>
<p>Train team members on Nushell and nu-posix</p>
</li>
<li>
<p>Provide conversion guidelines and best practices</p>
</li>
<li>
<p>Create internal documentation for common patterns</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_performance_tuning">70. Performance Tuning</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_optimization_techniques">70.1. Optimization Techniques</h3>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="nu"># Use efficient patterns
$scripts | par-each { |script| $script | from posix } # Parallel processing

# Cache common conversions
const converted_patterns = {
    "ls -la": "ls -la",
    "cat file": "open file",
    # ... other patterns
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_resource_management">70.2. Resource Management</h3>
<div class="ulist">
<ul>
<li>
<p>Monitor memory usage during large batch conversions</p>
</li>
<li>
<p>Use appropriate timeouts for complex scripts</p>
</li>
<li>
<p>Implement progress tracking for long-running operations</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conclusion_5">71. Conclusion</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This operator guide provides the practical knowledge needed to successfully deploy and use nu-posix in production environments. The combination of comprehensive command reference, troubleshooting guidance, and best practices enables effective script migration and operation.</p>
</div>
<div class="paragraph">
<p>For additional support, refer to the project documentation, community forums, or contact the development team through the project&#8217;s GitHub repository.</p>
</div>
<div class="paragraph">
<p>The nu-posix plugin represents a significant step forward in shell script modernization, enabling organizations to leverage Nushell&#8217;s powerful capabilities while preserving their existing script investments.</p>
</div>
<hr>
<div class="paragraph">
<p><strong>This guide is maintained by the nu-posix team and updated with each release. For the latest version, visit the project repository.</strong></p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2025-07-08 19:15:42 -0500
</div>
</div>
</body>
</html>